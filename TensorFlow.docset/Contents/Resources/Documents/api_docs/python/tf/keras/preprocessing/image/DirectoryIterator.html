<!DOCTYPE html><html dir="ltr" lang="en"><head>
<meta content="157101835696-ooapojlodmuabs2do2vuhhnf90bccmoi.apps.googleusercontent.com" name="google-signin-client-id"/>
<meta content="profile email" name="google-signin-scope"/>
<meta content="TensorFlow" property="og:site_name"/>
<meta content="website" property="og:type"/>
<meta content="#ff6f00" name="theme-color"/>
<meta charset="utf-8"/>
<meta content="IE=Edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<link crossorigin="use-credentials" href="_pwa/tensorflow/manifest.json" rel="manifest"/>
<link crossorigin="" href="/www.gstatic.com" rel="preconnect"/>
<link crossorigin="" href="/fonts.gstatic.com" rel="preconnect"/>
<link crossorigin="" href="/fonts.googleapis.com" rel="preconnect"/>
<link href="../../../../../../main.css" rel="stylesheet"/>

<noscript>

</noscript>
<link href="https://www.gstatic.com/devrel-devsite/prod/v3e2dbdc40e7394635e5230ecc02cb28039ea55a5d72db9939d2fb9fc9e16d0ff/tensorflow/images/favicon.png" rel="shortcut icon"/>
<link href="https://www.gstatic.com/devrel-devsite/prod/v3e2dbdc40e7394635e5230ecc02cb28039ea55a5d72db9939d2fb9fc9e16d0ff/tensorflow/images/apple-touch-icon-180x180.png" rel="apple-touch-icon"/><link href="https://www.tensorflow.org/api_docs/python/tf/keras/preprocessing/image/DirectoryIterator" rel="canonical"/><link href="https://www.tensorflow.org/s/opensearch.xml" rel="search" title="TensorFlow" type="application/opensearchdescription+xml"/>
<title>tf.keras.preprocessing.image.DirectoryIterator</title>
<meta content="tf.keras.preprocessing.image.DirectoryIterator" property="og:title"/>
<meta content="https://www.tensorflow.org/api_docs/python/tf/keras/preprocessing/image/DirectoryIterator" property="og:url"/>
<meta content="en" property="og:locale"/>

</head>
<body class="" layout="docs" pending="" theme="tensorflow-theme" type="reference">
<devsite-progress id="app-progress" type="indeterminate"></devsite-progress>
<section class="devsite-wrapper"> <devsite-book-nav scrollbars="">

</devsite-book-nav>
<section id="gc-wrapper">
<main class="devsite-main-content" has-book-nav="" has-toc="" role="main">
<devsite-toc class="devsite-nav"></devsite-toc>
<devsite-content>
<article class="devsite-article">
<article class="devsite-article-inner"><style>
        /* Styles inlined from /site-assets/css/style.css */
/* override theme */
table img {
  max-width: 100%;
}

/* override var element to differentiate color from comment */
var, var code, var span, .prettyprint var span {
  color: #039be5;
}

/* .devsite-terminal virtualenv prompt */
.tfo-terminal-venv::before {
  content: "(venv) $ " !important;
}

/* .devsite-terminal root prompt */
.tfo-terminal-root::before {
  content: "# " !important;
}

/* .devsite-terminal Windows prompt */
.tfo-terminal-windows::before {
  content: "C:\\> " !important;
}

/* .devsite-terminal Windows prompt w/ virtualenv */
.tfo-terminal-windows-venv::before {
  content: "(venv) C:\\> " !important;
}

.tfo-diff-green-one-level + * {
  background: rgba(175, 245, 162, .6)  !important;
}

.tfo-diff-green + * > * {
  background: rgba(175, 245, 162, .6)  !important;
}

.tfo-diff-green-list + ul > li:first-of-type {
  background: rgba(175, 245, 162, .6)  !important;
}

.tfo-diff-red-one-level + * {
  background: rgba(255, 230, 230, .6)  !important;
  text-decoration: line-through  !important;
}

.tfo-diff-red + * > * {
  background: rgba(255, 230, 230, .6)  !important;
  text-decoration: line-through  !important;
}

.tfo-diff-red-list + ul > li:first-of-type {
  background: rgba(255, 230, 230, .6)  !important;
  text-decoration: line-through  !important;
}

devsite-code .tfo-notebook-code-cell-output {
  max-height: 300px;
  overflow: auto;
  background: rgba(255, 247, 237, 1);  /* orange bg to distinguish from input code cells */
}

devsite-code .tfo-notebook-code-cell-output + .devsite-code-buttons-container button {
  background: rgba(255, 247, 237, .7);  /* orange bg to distinguish from input code cells */
}

devsite-code[dark-code] .tfo-notebook-code-cell-output {
  background: rgba(64, 78, 103, 1);  /* medium slate */
}

devsite-code[dark-code] .tfo-notebook-code-cell-output + .devsite-code-buttons-container button {
  background: rgba(64, 78, 103, .7);  /* medium slate */
}

/* override default table styles for notebook buttons */
.devsite-table-wrapper .tfo-notebook-buttons {
  display: inline-block;
  margin-left: 3px;
  width: auto;
}

.tfo-notebook-buttons td {
  padding-left: 0;
  padding-right: 20px;
}

.tfo-notebook-buttons a,
.tfo-notebook-buttons :link,
.tfo-notebook-buttons :visited {
  border-radius: 8px;
  box-shadow: 0 1px 2px 0 rgba(60, 64, 67, .3), 0 1px 3px 1px rgba(60, 64, 67, .15);
  color: #202124;
  padding: 12px 24px;
  transition: box-shadow 0.2s;
}

.tfo-notebook-buttons a:hover,
.tfo-notebook-buttons a:focus {
  box-shadow: 0 1px 2px 0 rgba(60, 64, 67, .3), 0 2px 6px 2px rgba(60, 64, 67, .15);
}

.tfo-notebook-buttons tr {
  background: 0;
  border: 0;
}

/* on rendered notebook page,
   remove link to webpage since we're already here */
.tfo-notebook-buttons:not(.tfo-api) td:first-child {
  display: none;
}

.tfo-notebook-buttons td > a {
  -webkit-box-align: center;
  -ms-flex-align: center;
  align-items: center;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
}

.tfo-notebook-buttons td > a > img {
  margin-right: 8px;
}

/* landing pages */

.tfo-landing-row-item-inset-white {
  background-color: #fff;
  padding: 32px;
}

.tfo-landing-row-item-inset-white ol,
.tfo-landing-row-item-inset-white ul {
  padding-left: 20px;
}

/* colab callout button */
.colab-callout-row devsite-code {
  border-radius: 8px 8px 0 0;
  box-shadow: none;
}

.colab-callout-footer {
  background: #e3e4e7;
  border-radius: 0 0 8px 8px;
  color: #37474f;
  padding: 20px;
}

.colab-callout-row devsite-code[dark-code] + .colab-callout-footer {
  background: #3f4f66;
}


.colab-callout-footer > .button {
  margin-top: 4px;
  color: #ff5c00;
}

.colab-callout-footer > a > span {
  padding-top: 10px;
  vertical-align: middle;
  color: #37474f;
  padding-left: 10px;
  padding-right: 10px;
  font-size: 14px;
}

.colab-callout-row devsite-code[dark-code] + .colab-callout-footer > a > span {
  color: #fff;
}

a.colab-button {
  background: rgba(255, 255, 255, .75);
  border: solid 1px rgba(0, 0, 0, .08);
  border-bottom-color: rgba(0, 0, 0, .15);
  border-radius: 4px;
  color: #aaa;
  display: inline-block;
  font-size: 11px !important;
  font-weight: 300;
  line-height: 16px;
  padding: 4px 8px;
  text-decoration: none;
  text-transform: uppercase;
}

a.colab-button:hover {
  background: white;
  border-color: rgba(0, 0, 0, .2);
  color: #666;
}

a.colab-button span {
  background: url(/images/colab_logo_button.svg) no-repeat 1px 1px / 20px;
  border-radius: 4px;
  display: inline-block;
  padding-left: 24px;
  text-decoration: none;
}

@media screen and (max-width: 600px) {
  .tfo-notebook-buttons td {
    display: block;
  }
}

/* guide and tutorials landing page cards and sections */

.tfo-landing-page-card {
  padding: 16px;
  box-shadow: 0 0 36px rgba(0,0,0,0.1);
  border-radius: 10px;
}

/* Page section headings */
.tfo-landing-page-heading h2, h2.tfo-landing-page-heading {
  font-family: "Google Sans", sans-serif;
  color: #425066;
  font-size: 30px;
  font-weight: 700;
  line-height: 40px;
}

/* Item title headings */
.tfo-landing-page-heading h3, h3.tfo-landing-page-heading,
.tfo-landing-page-card h3, h3.tfo-landing-page-card {
  font-family: "Google Sans", sans-serif;
  color: #425066;
  font-size: 20px;
  font-weight: 500;
  line-height: 26px;
}

/* List of tutorials notebooks for subsites */
.tfo-landing-page-resources-ul {
  padding-left: 15px
}

.tfo-landing-page-resources-ul > li {
  margin: 6px 0;
}

/* Temporary fix to hide product description in header on landing pages */
devsite-header .devsite-product-description {
  display: none;
}

        </style> <div class="devsite-banner devsite-banner-announcement">
<div class="devsite-banner-message">
<div class="devsite-banner-message-text">
            Missed TensorFlow Dev Summit? Check out the video playlist. <a class="button button-primary button-tfo-announcement" href="https://goo.gle/TFDS20AllSessions">Watch recordings</a>
</div>
</div>
</div>
<div class="devsite-article-meta">
<ul class="devsite-breadcrumb-list">
<li class="devsite-breadcrumb-item">
<a class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="1" href="">
            TensorFlow
      
  </a>
</li>
<li class="devsite-breadcrumb-item">
<div aria-hidden="true" class="devsite-breadcrumb-guillemet material-icons"></div>
<a class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="2" href="api">
            API
      
  </a>
</li>
<li class="devsite-breadcrumb-item">
<div aria-hidden="true" class="devsite-breadcrumb-guillemet material-icons"></div>
<a class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="3" href="api_docs">
            TensorFlow Core v2.1.0
      
  </a>
</li>
<li class="devsite-breadcrumb-item">
<div aria-hidden="true" class="devsite-breadcrumb-guillemet material-icons"></div>
<a class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="4" href="api_docs/python/tf">
            Python
      
  </a>
</li>
</ul>
<devsite-page-rating hover-rating-star="0" position="header" selected-rating="0">
</devsite-page-rating>
</div>
<a class="dashingAutolink" name="autolink-2063"></a><a class="dashAnchor" name="//apple_ref/cpp/Function/tf.keras.preprocessing.image.DirectoryIterator"></a><h1 class="dash-function">tf.keras.preprocessing.image.DirectoryIterator</h1>
<devsite-toc class="devsite-nav" devsite-toc-embedded="">
</devsite-toc>
<div class="devsite-article-body clearfix">
<p></p>
<!-- DO NOT EDIT! Automatically generated file. -->
<div itemscope="" itemtype="http://developers.google.com/ReferenceObject">
<meta content="tf.keras.preprocessing.image.DirectoryIterator" itemprop="name"/>
<meta content="Stable" itemprop="path"/>
<meta content="__getitem__" itemprop="property"/>
<meta content="__init__" itemprop="property"/>
<meta content="__iter__" itemprop="property"/>
<meta content="__len__" itemprop="property"/>
<meta content="next" itemprop="property"/>
<meta content="on_epoch_end" itemprop="property"/>
<meta content="reset" itemprop="property"/>
<meta content="set_processing_attrs" itemprop="property"/>
<meta content="allowed_class_modes" itemprop="property"/>
<meta content="white_list_formats" itemprop="property"/>
</div>
<p><devsite-nav-buttons name="version" param="reset">
<button default="" value="stable">See Stable</button>
<button value="nightly">See Nightly</button>
</devsite-nav-buttons></p>
<!-- Stable -->
<table align="left" class="tfo-notebook-buttons tfo-api">
<tbody><tr><td>
<a href="versions/r1.15/api_docs/python/tf/keras/preprocessing/image/DirectoryIterator" target="_blank">
<img src="https://www.tensorflow.org/images/tf_logo_32px.png"/>
  TensorFlow 1 version</a>
</td>
<td>
<a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/keras/preprocessing/image.py#L140-L227" target="_blank">
<img src="https://www.tensorflow.org/images/GitHub-Mark-32px.png"/>
    View source on GitHub
  </a>
</td></tr></tbody></table>
<p>Iterator capable of reading images from a directory on disk.</p>
<p>Inherits From: <a href="https://www.tensorflow.org/api_docs/python/tf/keras/preprocessing/image/Iterator"><code dir="ltr" translate="no">Iterator</code></a></p>
<section class="expandable">
<h4 class="showalways">View aliases</h4>
<p>
<b>Compat aliases for migration</b>
</p><p>See
<a href="https://www.tensorflow.org/guide/migrate">Migration guide</a> for
more details.</p>
<p><a href="api_docs/python/tf/keras/preprocessing/image/DirectoryIterator"><code dir="ltr" translate="no">tf.compat.v1.keras.preprocessing.image.DirectoryIterator</code></a></p>
</section>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">tf.keras.preprocessing.image.DirectoryIterator(
    directory, image_data_generator, target_size=(256, 256), color_mode=&#39;rgb&#39;,
    classes=None, class_mode=&#39;categorical&#39;, batch_size=32, shuffle=True, seed=None,
    data_format=None, save_to_dir=None, save_prefix=&#39;&#39;, save_format=&#39;png&#39;,
    follow_links=False, subset=None, interpolation=&#39;nearest&#39;, dtype=None
)
</code></pre>
<!-- Placeholder for "Used in" -->
<h4 id="arguments_3">Arguments:</h4>
<ul>
<li><b><code dir="ltr" translate="no">directory</code></b>: Path to the directory to read images from.
Each subdirectory in this directory will be
considered to contain images from one class,
or alternatively you could specify class subdirectories
via the <code dir="ltr" translate="no">classes</code> argument.</li>
<li><b><code dir="ltr" translate="no">image_data_generator</code></b>: Instance of <code dir="ltr" translate="no">ImageDataGenerator</code>
to use for random transformations and normalization.</li>
<li><b><code dir="ltr" translate="no">target_size</code></b>: tuple of integers, dimensions to resize input images to.</li>
<li><b><code dir="ltr" translate="no">color_mode</code></b>: One of <code dir="ltr" translate="no">&#34;rgb&#34;</code>, <code dir="ltr" translate="no">&#34;rgba&#34;</code>, <code dir="ltr" translate="no">&#34;grayscale&#34;</code>.
Color mode to read images.</li>
<li><b><code dir="ltr" translate="no">classes</code></b>: Optional list of strings, names of subdirectories
containing images from each class (e.g. <code dir="ltr" translate="no">[&#34;dogs&#34;, &#34;cats&#34;]</code>).
It will be computed automatically if not set.</li>
<li><b><code dir="ltr" translate="no">class_mode</code></b>: Mode for yielding the targets:
<code dir="ltr" translate="no">&#34;binary&#34;</code>: binary targets (if there are only two classes),
<code dir="ltr" translate="no">&#34;categorical&#34;</code>: categorical targets,
<code dir="ltr" translate="no">&#34;sparse&#34;</code>: integer targets,
<code dir="ltr" translate="no">&#34;input&#34;</code>: targets are images identical to input images (mainly
    used to work with autoencoders),
<code dir="ltr" translate="no">None</code>: no targets get yielded (only input images are yielded).</li>
<li><b><code dir="ltr" translate="no">batch_size</code></b>: Integer, size of a batch.</li>
<li><b><code dir="ltr" translate="no">shuffle</code></b>: Boolean, whether to shuffle the data between epochs.</li>
<li><b><code dir="ltr" translate="no">seed</code></b>: Random seed for data shuffling.</li>
<li><b><code dir="ltr" translate="no">data_format</code></b>: String, one of <code dir="ltr" translate="no">channels_first</code>, <code dir="ltr" translate="no">channels_last</code>.</li>
<li><b><code dir="ltr" translate="no">save_to_dir</code></b>: Optional directory where to save the pictures
being yielded, in a viewable format. This is useful
for visualizing the random transformations being
applied, for debugging purposes.</li>
<li><b><code dir="ltr" translate="no">save_prefix</code></b>: String prefix to use for saving sample
images (if <code dir="ltr" translate="no">save_to_dir</code> is set).</li>
<li><b><code dir="ltr" translate="no">save_format</code></b>: Format to use for saving sample images
(if <code dir="ltr" translate="no">save_to_dir</code> is set).</li>
<li><b><code dir="ltr" translate="no">subset</code></b>: Subset of data (<code dir="ltr" translate="no">&#34;training&#34;</code> or <code dir="ltr" translate="no">&#34;validation&#34;</code>) if
validation_split is set in ImageDataGenerator.</li>
<li><b><code dir="ltr" translate="no">interpolation</code></b>: Interpolation method used to resample the image if the
target size is different from that of the loaded image.
Supported methods are &#34;nearest&#34;, &#34;bilinear&#34;, and &#34;bicubic&#34;.
If PIL version 1.1.3 or newer is installed, &#34;lanczos&#34; is also
supported. If PIL version 3.4.0 or newer is installed, &#34;box&#34; and
&#34;hamming&#34; are also supported. By default, &#34;nearest&#34; is used.</li>
<li><b><code dir="ltr" translate="no">dtype</code></b>: Dtype to use for generated arrays.</li>
</ul>
<h4 id="attributes_2">Attributes:</h4>
<ul>
<li><b><code dir="ltr" translate="no">filepaths</code></b>:   List of absolute paths to image files</li>
<li><b><code dir="ltr" translate="no">labels</code></b>:   Class labels of every observation</li>
<li><b><code dir="ltr" translate="no">sample_weight</code></b></li>
</ul>
<h2 id="methods_2">Methods</h2>
<h3 id="__getitem__"><code dir="ltr" translate="no">__getitem__</code></h3>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">__getitem__(
    idx
)
</code></pre>
<p>Gets batch at position <code dir="ltr" translate="no">index</code>.</p>
<h4 id="arguments_4">Arguments:</h4>
<ul>
<li><b><code dir="ltr" translate="no">index</code></b>: position of the batch in the Sequence.</li>
</ul>
<h4 id="returns">Returns:</h4>
<p>A batch</p>
<h3 id="__iter__"><code dir="ltr" translate="no">__iter__</code></h3>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">__iter__()
</code></pre>
<p>Create a generator that iterate over the Sequence.</p>
<h3 id="__len__"><code dir="ltr" translate="no">__len__</code></h3>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">__len__()
</code></pre>
<p>Number of batch in the Sequence.</p>
<h4 id="returns_2">Returns:</h4>
<p>The number of batches in the Sequence.</p>
<h3 id="next"><code dir="ltr" translate="no">next</code></h3>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">next()
</code></pre>
<p>For python 2.x.</p>
<h1 class="page-title" id="returns_2">Returns</h1>
<pre class="prettyprint" dir="ltr" translate="no"><code dir="ltr" translate="no">The next batch.
</code></pre>
<h3 id="on_epoch_end"><code dir="ltr" translate="no">on_epoch_end</code></h3>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">on_epoch_end()
</code></pre>
<p>Method called at the end of every epoch.</p>
<h3 id="reset"><code dir="ltr" translate="no">reset</code></h3>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">reset()
</code></pre>
<h3 id="set_processing_attrs"><code dir="ltr" translate="no">set_processing_attrs</code></h3>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">set_processing_attrs(
    image_data_generator, target_size, color_mode, data_format, save_to_dir,
    save_prefix, save_format, subset, interpolation
)
</code></pre>
<p>Sets attributes to use later for processing files into a batch.</p>
<h1 class="page-title" id="arguments_2">Arguments</h1>
<pre class="prettyprint" dir="ltr" translate="no"><code dir="ltr" translate="no">image_data_generator: Instance of `ImageDataGenerator`
    to use for random transformations and normalization.
target_size: tuple of integers, dimensions to resize input images to.
color_mode: One of `&#34;rgb&#34;`, `&#34;rgba&#34;`, `&#34;grayscale&#34;`.
    Color mode to read images.
data_format: String, one of `channels_first`, `channels_last`.
save_to_dir: Optional directory where to save the pictures
    being yielded, in a viewable format. This is useful
    for visualizing the random transformations being
    applied, for debugging purposes.
save_prefix: String prefix to use for saving sample
    images (if `save_to_dir` is set).
save_format: Format to use for saving sample images
    (if `save_to_dir` is set).
subset: Subset of data (`&#34;training&#34;` or `&#34;validation&#34;`) if
    validation_split is set in ImageDataGenerator.
interpolation: Interpolation method used to resample the image if the
    target size is different from that of the loaded image.
    Supported methods are &#34;nearest&#34;, &#34;bilinear&#34;, and &#34;bicubic&#34;.
    If PIL version 1.1.3 or newer is installed, &#34;lanczos&#34; is also
    supported. If PIL version 3.4.0 or newer is installed, &#34;box&#34; and
    &#34;hamming&#34; are also supported. By default, &#34;nearest&#34; is used.
</code></pre>
<h2 id="class_variables_2">Class Variables</h2>
<ul>
<li><code dir="ltr" translate="no">allowed_class_modes</code> <a id="allowed_class_modes"></a></li>
<li><code dir="ltr" translate="no">white_list_formats</code> <a id="white_list_formats"></a></li>
</ul>
</div>
<devsite-page-rating hover-rating-star="0" position="footer" selected-rating="0">
</devsite-page-rating>
</article>
</article>

</devsite-content>
</main>
<devsite-footer-promos class="devsite-footer">
</devsite-footer-promos>
<devsite-footer-linkboxes class="devsite-footer">

</devsite-footer-linkboxes>
<devsite-footer-utility class="devsite-footer">
<div class="devsite-footer-utility nocontent">

</div>
</devsite-footer-utility>
</section></section>
<devsite-sitemask></devsite-sitemask>
<devsite-snackbar></devsite-snackbar> <devsite-tooltip></devsite-tooltip>
<devsite-heading-link></devsite-heading-link>
<devsite-analytics>


</devsite-analytics>
 
</body></html>