<!DOCTYPE html><html dir="ltr" lang="en"><head>
<meta content="157101835696-ooapojlodmuabs2do2vuhhnf90bccmoi.apps.googleusercontent.com" name="google-signin-client-id"/>
<meta content="profile email" name="google-signin-scope"/>
<meta content="TensorFlow" property="og:site_name"/>
<meta content="website" property="og:type"/>
<meta content="#ff6f00" name="theme-color"/>
<meta charset="utf-8"/>
<meta content="IE=Edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<link crossorigin="use-credentials" href="_pwa/tensorflow/manifest.json" rel="manifest"/>
<link crossorigin="" href="/www.gstatic.com" rel="preconnect"/>
<link crossorigin="" href="/fonts.gstatic.com" rel="preconnect"/>
<link crossorigin="" href="/fonts.googleapis.com" rel="preconnect"/>
<link href="../../../../../../main.css" rel="stylesheet"/>

<noscript>

</noscript>
<link href="https://www.gstatic.com/devrel-devsite/prod/v3e2dbdc40e7394635e5230ecc02cb28039ea55a5d72db9939d2fb9fc9e16d0ff/tensorflow/images/favicon.png" rel="shortcut icon"/>
<link href="https://www.gstatic.com/devrel-devsite/prod/v3e2dbdc40e7394635e5230ecc02cb28039ea55a5d72db9939d2fb9fc9e16d0ff/tensorflow/images/apple-touch-icon-180x180.png" rel="apple-touch-icon"/><link href="https://www.tensorflow.org/api_docs/python/tf/compat/v1/train/Scaffold" rel="canonical"/><link href="https://www.tensorflow.org/s/opensearch.xml" rel="search" title="TensorFlow" type="application/opensearchdescription+xml"/>
<title>tf.compat.v1.train.Scaffold &nbsp;|&nbsp; TensorFlow Core v2.1.0</title>
<meta content="tf.compat.v1.train.Scaffold &nbsp;|&nbsp; TensorFlow Core v2.1.0" property="og:title"/>
<meta content="https://www.tensorflow.org/api_docs/python/tf/compat/v1/train/Scaffold" property="og:url"/>
<meta content="en" property="og:locale"/>

</head>
<body class="" layout="docs" pending="" theme="tensorflow-theme" type="reference">
<devsite-progress id="app-progress" type="indeterminate"></devsite-progress>
<section class="devsite-wrapper"> <devsite-book-nav scrollbars="">

</devsite-book-nav>
<section id="gc-wrapper">
<main class="devsite-main-content" has-book-nav="" has-toc="" role="main">
<devsite-toc class="devsite-nav"></devsite-toc>
<devsite-content>
<article class="devsite-article">
<article class="devsite-article-inner"><style>
        /* Styles inlined from /site-assets/css/style.css */
/* override theme */
table img {
  max-width: 100%;
}

/* override var element to differentiate color from comment */
var, var code, var span, .prettyprint var span {
  color: #039be5;
}

/* .devsite-terminal virtualenv prompt */
.tfo-terminal-venv::before {
  content: "(venv) $ " !important;
}

/* .devsite-terminal root prompt */
.tfo-terminal-root::before {
  content: "# " !important;
}

/* .devsite-terminal Windows prompt */
.tfo-terminal-windows::before {
  content: "C:\\> " !important;
}

/* .devsite-terminal Windows prompt w/ virtualenv */
.tfo-terminal-windows-venv::before {
  content: "(venv) C:\\> " !important;
}

.tfo-diff-green-one-level + * {
  background: rgba(175, 245, 162, .6)  !important;
}

.tfo-diff-green + * > * {
  background: rgba(175, 245, 162, .6)  !important;
}

.tfo-diff-green-list + ul > li:first-of-type {
  background: rgba(175, 245, 162, .6)  !important;
}

.tfo-diff-red-one-level + * {
  background: rgba(255, 230, 230, .6)  !important;
  text-decoration: line-through  !important;
}

.tfo-diff-red + * > * {
  background: rgba(255, 230, 230, .6)  !important;
  text-decoration: line-through  !important;
}

.tfo-diff-red-list + ul > li:first-of-type {
  background: rgba(255, 230, 230, .6)  !important;
  text-decoration: line-through  !important;
}

devsite-code .tfo-notebook-code-cell-output {
  max-height: 300px;
  overflow: auto;
  background: rgba(255, 247, 237, 1);  /* orange bg to distinguish from input code cells */
}

devsite-code .tfo-notebook-code-cell-output + .devsite-code-buttons-container button {
  background: rgba(255, 247, 237, .7);  /* orange bg to distinguish from input code cells */
}

devsite-code[dark-code] .tfo-notebook-code-cell-output {
  background: rgba(64, 78, 103, 1);  /* medium slate */
}

devsite-code[dark-code] .tfo-notebook-code-cell-output + .devsite-code-buttons-container button {
  background: rgba(64, 78, 103, .7);  /* medium slate */
}

/* override default table styles for notebook buttons */
.devsite-table-wrapper .tfo-notebook-buttons {
  display: inline-block;
  margin-left: 3px;
  width: auto;
}

.tfo-notebook-buttons td {
  padding-left: 0;
  padding-right: 20px;
}

.tfo-notebook-buttons a,
.tfo-notebook-buttons :link,
.tfo-notebook-buttons :visited {
  border-radius: 8px;
  box-shadow: 0 1px 2px 0 rgba(60, 64, 67, .3), 0 1px 3px 1px rgba(60, 64, 67, .15);
  color: #202124;
  padding: 12px 24px;
  transition: box-shadow 0.2s;
}

.tfo-notebook-buttons a:hover,
.tfo-notebook-buttons a:focus {
  box-shadow: 0 1px 2px 0 rgba(60, 64, 67, .3), 0 2px 6px 2px rgba(60, 64, 67, .15);
}

.tfo-notebook-buttons tr {
  background: 0;
  border: 0;
}

/* on rendered notebook page,
   remove link to webpage since we're already here */
.tfo-notebook-buttons:not(.tfo-api) td:first-child {
  display: none;
}

.tfo-notebook-buttons td > a {
  -webkit-box-align: center;
  -ms-flex-align: center;
  align-items: center;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
}

.tfo-notebook-buttons td > a > img {
  margin-right: 8px;
}

/* landing pages */

.tfo-landing-row-item-inset-white {
  background-color: #fff;
  padding: 32px;
}

.tfo-landing-row-item-inset-white ol,
.tfo-landing-row-item-inset-white ul {
  padding-left: 20px;
}

/* colab callout button */
.colab-callout-row devsite-code {
  border-radius: 8px 8px 0 0;
  box-shadow: none;
}

.colab-callout-footer {
  background: #e3e4e7;
  border-radius: 0 0 8px 8px;
  color: #37474f;
  padding: 20px;
}

.colab-callout-row devsite-code[dark-code] + .colab-callout-footer {
  background: #3f4f66;
}


.colab-callout-footer > .button {
  margin-top: 4px;
  color: #ff5c00;
}

.colab-callout-footer > a > span {
  padding-top: 10px;
  vertical-align: middle;
  color: #37474f;
  padding-left: 10px;
  padding-right: 10px;
  font-size: 14px;
}

.colab-callout-row devsite-code[dark-code] + .colab-callout-footer > a > span {
  color: #fff;
}

a.colab-button {
  background: rgba(255, 255, 255, .75);
  border: solid 1px rgba(0, 0, 0, .08);
  border-bottom-color: rgba(0, 0, 0, .15);
  border-radius: 4px;
  color: #aaa;
  display: inline-block;
  font-size: 11px !important;
  font-weight: 300;
  line-height: 16px;
  padding: 4px 8px;
  text-decoration: none;
  text-transform: uppercase;
}

a.colab-button:hover {
  background: white;
  border-color: rgba(0, 0, 0, .2);
  color: #666;
}

a.colab-button span {
  background: url(/images/colab_logo_button.svg) no-repeat 1px 1px / 20px;
  border-radius: 4px;
  display: inline-block;
  padding-left: 24px;
  text-decoration: none;
}

@media screen and (max-width: 600px) {
  .tfo-notebook-buttons td {
    display: block;
  }
}

/* guide and tutorials landing page cards and sections */

.tfo-landing-page-card {
  padding: 16px;
  box-shadow: 0 0 36px rgba(0,0,0,0.1);
  border-radius: 10px;
}

/* Page section headings */
.tfo-landing-page-heading h2, h2.tfo-landing-page-heading {
  font-family: "Google Sans", sans-serif;
  color: #425066;
  font-size: 30px;
  font-weight: 700;
  line-height: 40px;
}

/* Item title headings */
.tfo-landing-page-heading h3, h3.tfo-landing-page-heading,
.tfo-landing-page-card h3, h3.tfo-landing-page-card {
  font-family: "Google Sans", sans-serif;
  color: #425066;
  font-size: 20px;
  font-weight: 500;
  line-height: 26px;
}

/* List of tutorials notebooks for subsites */
.tfo-landing-page-resources-ul {
  padding-left: 15px
}

.tfo-landing-page-resources-ul > li {
  margin: 6px 0;
}

/* Temporary fix to hide product description in header on landing pages */
devsite-header .devsite-product-description {
  display: none;
}

        </style> <div class="devsite-banner devsite-banner-announcement">
<div class="devsite-banner-message">
<div class="devsite-banner-message-text">
            Missed TensorFlow Dev Summit? Check out the video playlist. <a class="button button-primary button-tfo-announcement" href="https://goo.gle/TFDS20AllSessions">Watch recordings</a>
</div>
</div>
</div>
<div class="devsite-article-meta">
<ul class="devsite-breadcrumb-list">
<li class="devsite-breadcrumb-item">
<a class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="1" href="">
            TensorFlow
      
  </a>
</li>
<li class="devsite-breadcrumb-item">
<div aria-hidden="true" class="devsite-breadcrumb-guillemet material-icons"></div>
<a class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="2" href="api">
            API
      
  </a>
</li>
<li class="devsite-breadcrumb-item">
<div aria-hidden="true" class="devsite-breadcrumb-guillemet material-icons"></div>
<a class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="3" href="api_docs">
            TensorFlow Core v2.1.0
      
  </a>
</li>
<li class="devsite-breadcrumb-item">
<div aria-hidden="true" class="devsite-breadcrumb-guillemet material-icons"></div>
<a class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="4" href="api_docs/python/tf">
            Python
      
  </a>
</li>
</ul>
<devsite-page-rating hover-rating-star="0" position="header" selected-rating="0">
</devsite-page-rating>
</div>
<a class="dashingAutolink" name="autolink-1049"></a><a class="dashAnchor" name="//apple_ref/cpp/Class/tf.compat.v1.train.Scaffold"></a><h1 class="dash-class">tf.compat.v1.train.Scaffold</h1>
<devsite-toc class="devsite-nav" devsite-toc-embedded="">
</devsite-toc>
<div class="devsite-article-body clearfix">
<p></p>
<!-- DO NOT EDIT! Automatically generated file. -->
<div itemscope="" itemtype="http://developers.google.com/ReferenceObject">
<meta content="tf.compat.v1.train.Scaffold" itemprop="name"/>
<meta content="Stable" itemprop="path"/>
<meta content="__init__" itemprop="property"/>
<meta content="default_local_init_op" itemprop="property"/>
<meta content="finalize" itemprop="property"/>
<meta content="get_or_default" itemprop="property"/>
</div>
<!-- Insert buttons and diff -->
<table align="left" class="tfo-notebook-buttons tfo-api">
<tbody><tr><td>
<a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/training/monitored_session.py#L59-L318" target="_blank">
<img src="https://www.tensorflow.org/images/GitHub-Mark-32px.png"/>
    View source on GitHub
  </a>
</td></tr></tbody></table>
<p>Structure to create or gather pieces commonly needed to train a model.</p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">tf.compat.v1.train.Scaffold(
    init_op=None, init_feed_dict=None, init_fn=None, ready_op=None,
    ready_for_local_init_op=None, local_init_op=None, summary_op=None, saver=None,
    copy_from_scaffold=None, local_init_feed_dict=None
)
</code></pre>
<h3>Used in the notebooks</h3>
<table class="vertical-rules">
<thead>
<tr>
<th>Used in the guide</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<ul>
<li><a href="https://www.tensorflow.org/guide/checkpoint">Training checkpoints</a></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>When you build a model for training you usually need ops to initialize
variables, a <code dir="ltr" translate="no">Saver</code> to checkpoint them, an op to collect summaries for
the visualizer, and so on.</p>
<p>Various libraries built on top of the core TensorFlow library take care of
creating some or all of these pieces and storing them in well known
collections in the graph.  The <code dir="ltr" translate="no">Scaffold</code> class helps pick these pieces from
the graph collections, creating and adding them to the collections if needed.</p>
<p>If you call the scaffold constructor without any arguments, it will pick
pieces from the collections, creating default ones if needed when
<code dir="ltr" translate="no">scaffold.finalize()</code> is called.  You can pass arguments to the constructor to
provide your own pieces.  Pieces that you pass to the constructor are not
added to the graph collections.</p>
<p>The following pieces are directly accessible as attributes of the <code dir="ltr" translate="no">Scaffold</code>
object:</p>
<ul>
<li><code dir="ltr" translate="no">saver</code>: A <a href="https://www.tensorflow.org/api_docs/python/tf/compat/v1/train/Saver"><code dir="ltr" translate="no">tf.compat.v1.train.Saver</code></a> object taking care of saving the
variables.
Picked from and stored into the <code dir="ltr" translate="no">SAVERS</code> collection in the graph by default.</li>
<li><code dir="ltr" translate="no">init_op</code>: An op to run to initialize the variables.  Picked from and
stored into the <code dir="ltr" translate="no">INIT_OP</code> collection in the graph by default.</li>
<li><code dir="ltr" translate="no">ready_op</code>: An op to verify that the variables are initialized.  Picked
from and stored into the <code dir="ltr" translate="no">READY_OP</code> collection in the graph by default.</li>
<li><code dir="ltr" translate="no">ready_for_local_init_op</code>: An op to verify that global state has been
initialized and it is alright to run <code dir="ltr" translate="no">local_init_op</code>.  Picked from and
stored into the <code dir="ltr" translate="no">READY_FOR_LOCAL_INIT_OP</code> collection in the graph by
default. This is needed when the initialization of local variables depends
on the values of global variables.</li>
<li><code dir="ltr" translate="no">local_init_op</code>: An op to initialize the local variables.  Picked
from and stored into the <code dir="ltr" translate="no">LOCAL_INIT_OP</code> collection in the graph by default.</li>
<li><code dir="ltr" translate="no">summary_op</code>: An op to run and merge the summaries in the graph.  Picked
from and stored into the <code dir="ltr" translate="no">SUMMARY_OP</code> collection in the graph by default.</li>
</ul>
<p>You can also pass the following additional pieces to the constructor:</p>
<ul>
<li><code dir="ltr" translate="no">init_feed_dict</code>: A session feed dictionary that should be used when
running the init op.</li>
<li><code dir="ltr" translate="no">init_fn</code>: A callable to run after the init op to perform additional
initializations.  The callable will be called as
<code dir="ltr" translate="no">init_fn(scaffold, session)</code>.</li>
</ul>
<h4 id="args">Args:</h4>
<ul>
<li><b><code dir="ltr" translate="no">init_op</code></b>: Optional op for initializing variables.</li>
<li><b><code dir="ltr" translate="no">init_feed_dict</code></b>: Optional session feed dictionary to use when running the
init_op.</li>
<li><b><code dir="ltr" translate="no">init_fn</code></b>: Optional function to use to initialize the model after running
the init_op.  Will be called as <code dir="ltr" translate="no">init_fn(scaffold, session)</code>.</li>
<li><b><code dir="ltr" translate="no">ready_op</code></b>: Optional op to verify that the variables are initialized.  Must
return an empty 1D string tensor when the variables are initialized, or
a non-empty 1D string tensor listing the names of the non-initialized
variables.</li>
<li><b><code dir="ltr" translate="no">ready_for_local_init_op</code></b>: Optional op to verify that the global variables
are initialized and <code dir="ltr" translate="no">local_init_op</code> can be run. Must return an empty 1D
string tensor when the global variables are initialized, or a non-empty
1D string tensor listing the names of the non-initialized global
variables.</li>
<li><b><code dir="ltr" translate="no">local_init_op</code></b>: Optional op to initialize local variables.</li>
<li><b><code dir="ltr" translate="no">summary_op</code></b>: Optional op to gather all summaries.  Must return a scalar
string tensor containing a serialized <code dir="ltr" translate="no">Summary</code> proto.</li>
<li><b><code dir="ltr" translate="no">saver</code></b>: Optional <a href="https://www.tensorflow.org/api_docs/python/tf/compat/v1/train/Saver"><code dir="ltr" translate="no">tf.compat.v1.train.Saver</code></a> object to use to save and
restore variables.  May also be a <a href="https://www.tensorflow.org/api_docs/python/tf/train/Checkpoint"><code dir="ltr" translate="no">tf.train.Checkpoint</code></a> object, in which
case object-based checkpoints are saved. This will also load some
object-based checkpoints saved from elsewhere, but that loading may be
fragile since it uses fixed keys rather than performing a full
graph-based match. For example if a variable has two paths from the
<code dir="ltr" translate="no">Checkpoint</code> object because two <code dir="ltr" translate="no">Model</code> objects share the <code dir="ltr" translate="no">Layer</code> object
that owns it, removing one <code dir="ltr" translate="no">Model</code> may change the keys and break
checkpoint loading through this API, whereas a graph-based match would
match the variable through the other <code dir="ltr" translate="no">Model</code>.</li>
<li><b><code dir="ltr" translate="no">copy_from_scaffold</code></b>: Optional scaffold object to copy fields from. Its
fields will be overwritten by the provided fields in this function.</li>
<li><b><code dir="ltr" translate="no">local_init_feed_dict</code></b>: Optional session feed dictionary to use when running
the local_init_op.</li>
</ul>
<h4 id="attributes">Attributes:</h4>
<ul>
<li><b><code dir="ltr" translate="no">init_feed_dict</code></b></li>
<li><b><code dir="ltr" translate="no">init_fn</code></b></li>
<li><b><code dir="ltr" translate="no">init_op</code></b></li>
<li><b><code dir="ltr" translate="no">local_init_feed_dict</code></b></li>
<li><b><code dir="ltr" translate="no">local_init_op</code></b></li>
<li><b><code dir="ltr" translate="no">ready_for_local_init_op</code></b></li>
<li><b><code dir="ltr" translate="no">ready_op</code></b></li>
<li><b><code dir="ltr" translate="no">saver</code></b></li>
<li><b><code dir="ltr" translate="no">summary_op</code></b></li>
</ul>
<h2 id="methods">Methods</h2>
<h3 id="default_local_init_op"><code dir="ltr" translate="no">default_local_init_op</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/training/monitored_session.py#L302-L318" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">@staticmethod
default_local_init_op()
</code></pre>
<p>Returns an op that groups the default local init ops.</p>
<p>This op is used during session initialization when a Scaffold is
initialized without specifying the local_init_op arg. It includes
<a href="https://www.tensorflow.org/api_docs/python/tf/compat/v1/local_variables_initializer"><code dir="ltr" translate="no">tf.compat.v1.local_variables_initializer</code></a>,
<a href="https://www.tensorflow.org/api_docs/python/tf/compat/v1/tables_initializer"><code dir="ltr" translate="no">tf.compat.v1.tables_initializer</code></a>, and also
initializes local session resources.</p>
<h4 id="returns">Returns:</h4>
<p>The default Scaffold local init op.</p>
<h3 id="finalize"><code dir="ltr" translate="no">finalize</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/training/monitored_session.py#L190-L247" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">finalize()
</code></pre>
<p>Creates operations if needed and finalizes the graph.</p>
<h3 id="get_or_default"><code dir="ltr" translate="no">get_or_default</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/training/monitored_session.py#L285-L300" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">@staticmethod
get_or_default(
    arg_name, collection_key, default_constructor
)
</code></pre>
<p>Get from cache or create a default operation.</p>
</div>
<devsite-page-rating hover-rating-star="0" position="footer" selected-rating="0">
</devsite-page-rating>
</article>
</article>

</devsite-content>
</main>
<devsite-footer-promos class="devsite-footer">
</devsite-footer-promos>
<devsite-footer-linkboxes class="devsite-footer">

</devsite-footer-linkboxes>
<devsite-footer-utility class="devsite-footer">
<div class="devsite-footer-utility nocontent">

</div>
</devsite-footer-utility>
</section></section>
<devsite-sitemask></devsite-sitemask>
<devsite-snackbar></devsite-snackbar> <devsite-tooltip></devsite-tooltip>
<devsite-heading-link></devsite-heading-link>
<devsite-analytics>


</devsite-analytics>
 
</body></html>