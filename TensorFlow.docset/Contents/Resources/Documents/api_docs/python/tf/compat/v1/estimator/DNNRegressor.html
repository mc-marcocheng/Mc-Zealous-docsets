<!DOCTYPE html><html dir="ltr" lang="en"><head>
<meta content="157101835696-ooapojlodmuabs2do2vuhhnf90bccmoi.apps.googleusercontent.com" name="google-signin-client-id"/>
<meta content="profile email" name="google-signin-scope"/>
<meta content="TensorFlow" property="og:site_name"/>
<meta content="website" property="og:type"/>
<meta content="#ff6f00" name="theme-color"/>
<meta charset="utf-8"/>
<meta content="IE=Edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<link crossorigin="use-credentials" href="_pwa/tensorflow/manifest.json" rel="manifest"/>
<link crossorigin="" href="/www.gstatic.com" rel="preconnect"/>
<link crossorigin="" href="/fonts.gstatic.com" rel="preconnect"/>
<link crossorigin="" href="/fonts.googleapis.com" rel="preconnect"/>
<link href="../../../../../../main.css" rel="stylesheet"/>

<noscript>

</noscript>
<link href="https://www.gstatic.com/devrel-devsite/prod/v3e2dbdc40e7394635e5230ecc02cb28039ea55a5d72db9939d2fb9fc9e16d0ff/tensorflow/images/favicon.png" rel="shortcut icon"/>
<link href="https://www.gstatic.com/devrel-devsite/prod/v3e2dbdc40e7394635e5230ecc02cb28039ea55a5d72db9939d2fb9fc9e16d0ff/tensorflow/images/apple-touch-icon-180x180.png" rel="apple-touch-icon"/><link href="https://www.tensorflow.org/api_docs/python/tf/compat/v1/estimator/DNNRegressor" rel="canonical"/><link href="https://www.tensorflow.org/s/opensearch.xml" rel="search" title="TensorFlow" type="application/opensearchdescription+xml"/>
<title>tf.compat.v1.estimator.DNNRegressor &nbsp;|&nbsp; TensorFlow Core v2.1.0</title>
<meta content="tf.compat.v1.estimator.DNNRegressor &nbsp;|&nbsp; TensorFlow Core v2.1.0" property="og:title"/>
<meta content="https://www.tensorflow.org/api_docs/python/tf/compat/v1/estimator/DNNRegressor" property="og:url"/>
<meta content="en" property="og:locale"/>

</head>
<body class="" layout="docs" pending="" theme="tensorflow-theme" type="reference">
<devsite-progress id="app-progress" type="indeterminate"></devsite-progress>
<section class="devsite-wrapper"> <devsite-book-nav scrollbars="">

</devsite-book-nav>
<section id="gc-wrapper">
<main class="devsite-main-content" has-book-nav="" has-toc="" role="main">
<devsite-toc class="devsite-nav"></devsite-toc>
<devsite-content>
<article class="devsite-article">
<article class="devsite-article-inner"><style>
        /* Styles inlined from /site-assets/css/style.css */
/* override theme */
table img {
  max-width: 100%;
}

/* override var element to differentiate color from comment */
var, var code, var span, .prettyprint var span {
  color: #039be5;
}

/* .devsite-terminal virtualenv prompt */
.tfo-terminal-venv::before {
  content: "(venv) $ " !important;
}

/* .devsite-terminal root prompt */
.tfo-terminal-root::before {
  content: "# " !important;
}

/* .devsite-terminal Windows prompt */
.tfo-terminal-windows::before {
  content: "C:\\> " !important;
}

/* .devsite-terminal Windows prompt w/ virtualenv */
.tfo-terminal-windows-venv::before {
  content: "(venv) C:\\> " !important;
}

.tfo-diff-green-one-level + * {
  background: rgba(175, 245, 162, .6)  !important;
}

.tfo-diff-green + * > * {
  background: rgba(175, 245, 162, .6)  !important;
}

.tfo-diff-green-list + ul > li:first-of-type {
  background: rgba(175, 245, 162, .6)  !important;
}

.tfo-diff-red-one-level + * {
  background: rgba(255, 230, 230, .6)  !important;
  text-decoration: line-through  !important;
}

.tfo-diff-red + * > * {
  background: rgba(255, 230, 230, .6)  !important;
  text-decoration: line-through  !important;
}

.tfo-diff-red-list + ul > li:first-of-type {
  background: rgba(255, 230, 230, .6)  !important;
  text-decoration: line-through  !important;
}

devsite-code .tfo-notebook-code-cell-output {
  max-height: 300px;
  overflow: auto;
  background: rgba(255, 247, 237, 1);  /* orange bg to distinguish from input code cells */
}

devsite-code .tfo-notebook-code-cell-output + .devsite-code-buttons-container button {
  background: rgba(255, 247, 237, .7);  /* orange bg to distinguish from input code cells */
}

devsite-code[dark-code] .tfo-notebook-code-cell-output {
  background: rgba(64, 78, 103, 1);  /* medium slate */
}

devsite-code[dark-code] .tfo-notebook-code-cell-output + .devsite-code-buttons-container button {
  background: rgba(64, 78, 103, .7);  /* medium slate */
}

/* override default table styles for notebook buttons */
.devsite-table-wrapper .tfo-notebook-buttons {
  display: inline-block;
  margin-left: 3px;
  width: auto;
}

.tfo-notebook-buttons td {
  padding-left: 0;
  padding-right: 20px;
}

.tfo-notebook-buttons a,
.tfo-notebook-buttons :link,
.tfo-notebook-buttons :visited {
  border-radius: 8px;
  box-shadow: 0 1px 2px 0 rgba(60, 64, 67, .3), 0 1px 3px 1px rgba(60, 64, 67, .15);
  color: #202124;
  padding: 12px 24px;
  transition: box-shadow 0.2s;
}

.tfo-notebook-buttons a:hover,
.tfo-notebook-buttons a:focus {
  box-shadow: 0 1px 2px 0 rgba(60, 64, 67, .3), 0 2px 6px 2px rgba(60, 64, 67, .15);
}

.tfo-notebook-buttons tr {
  background: 0;
  border: 0;
}

/* on rendered notebook page,
   remove link to webpage since we're already here */
.tfo-notebook-buttons:not(.tfo-api) td:first-child {
  display: none;
}

.tfo-notebook-buttons td > a {
  -webkit-box-align: center;
  -ms-flex-align: center;
  align-items: center;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
}

.tfo-notebook-buttons td > a > img {
  margin-right: 8px;
}

/* landing pages */

.tfo-landing-row-item-inset-white {
  background-color: #fff;
  padding: 32px;
}

.tfo-landing-row-item-inset-white ol,
.tfo-landing-row-item-inset-white ul {
  padding-left: 20px;
}

/* colab callout button */
.colab-callout-row devsite-code {
  border-radius: 8px 8px 0 0;
  box-shadow: none;
}

.colab-callout-footer {
  background: #e3e4e7;
  border-radius: 0 0 8px 8px;
  color: #37474f;
  padding: 20px;
}

.colab-callout-row devsite-code[dark-code] + .colab-callout-footer {
  background: #3f4f66;
}


.colab-callout-footer > .button {
  margin-top: 4px;
  color: #ff5c00;
}

.colab-callout-footer > a > span {
  padding-top: 10px;
  vertical-align: middle;
  color: #37474f;
  padding-left: 10px;
  padding-right: 10px;
  font-size: 14px;
}

.colab-callout-row devsite-code[dark-code] + .colab-callout-footer > a > span {
  color: #fff;
}

a.colab-button {
  background: rgba(255, 255, 255, .75);
  border: solid 1px rgba(0, 0, 0, .08);
  border-bottom-color: rgba(0, 0, 0, .15);
  border-radius: 4px;
  color: #aaa;
  display: inline-block;
  font-size: 11px !important;
  font-weight: 300;
  line-height: 16px;
  padding: 4px 8px;
  text-decoration: none;
  text-transform: uppercase;
}

a.colab-button:hover {
  background: white;
  border-color: rgba(0, 0, 0, .2);
  color: #666;
}

a.colab-button span {
  background: url(/images/colab_logo_button.svg) no-repeat 1px 1px / 20px;
  border-radius: 4px;
  display: inline-block;
  padding-left: 24px;
  text-decoration: none;
}

@media screen and (max-width: 600px) {
  .tfo-notebook-buttons td {
    display: block;
  }
}

/* guide and tutorials landing page cards and sections */

.tfo-landing-page-card {
  padding: 16px;
  box-shadow: 0 0 36px rgba(0,0,0,0.1);
  border-radius: 10px;
}

/* Page section headings */
.tfo-landing-page-heading h2, h2.tfo-landing-page-heading {
  font-family: "Google Sans", sans-serif;
  color: #425066;
  font-size: 30px;
  font-weight: 700;
  line-height: 40px;
}

/* Item title headings */
.tfo-landing-page-heading h3, h3.tfo-landing-page-heading,
.tfo-landing-page-card h3, h3.tfo-landing-page-card {
  font-family: "Google Sans", sans-serif;
  color: #425066;
  font-size: 20px;
  font-weight: 500;
  line-height: 26px;
}

/* List of tutorials notebooks for subsites */
.tfo-landing-page-resources-ul {
  padding-left: 15px
}

.tfo-landing-page-resources-ul > li {
  margin: 6px 0;
}

/* Temporary fix to hide product description in header on landing pages */
devsite-header .devsite-product-description {
  display: none;
}

        </style> <div class="devsite-banner devsite-banner-announcement">
<div class="devsite-banner-message">
<div class="devsite-banner-message-text">
            Missed TensorFlow Dev Summit? Check out the video playlist. <a class="button button-primary button-tfo-announcement" href="https://goo.gle/TFDS20AllSessions">Watch recordings</a>
</div>
</div>
</div>
<div class="devsite-article-meta">
<ul class="devsite-breadcrumb-list">
<li class="devsite-breadcrumb-item">
<a class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="1" href="">
            TensorFlow
      
  </a>
</li>
<li class="devsite-breadcrumb-item">
<div aria-hidden="true" class="devsite-breadcrumb-guillemet material-icons"></div>
<a class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="2" href="api">
            API
      
  </a>
</li>
<li class="devsite-breadcrumb-item">
<div aria-hidden="true" class="devsite-breadcrumb-guillemet material-icons"></div>
<a class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="3" href="api_docs">
            TensorFlow Core v2.1.0
      
  </a>
</li>
<li class="devsite-breadcrumb-item">
<div aria-hidden="true" class="devsite-breadcrumb-guillemet material-icons"></div>
<a class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="4" href="api_docs/python/tf">
            Python
      
  </a>
</li>
</ul>
<devsite-page-rating hover-rating-star="0" position="header" selected-rating="0">
</devsite-page-rating>
</div>
<a class="dashingAutolink" name="autolink-274"></a><a class="dashAnchor" name="//apple_ref/cpp/Class/tf.compat.v1.estimator.DNNRegressor"></a><h1 class="dash-class">tf.compat.v1.estimator.DNNRegressor</h1>
<devsite-toc class="devsite-nav" devsite-toc-embedded="">
</devsite-toc>
<div class="devsite-article-body clearfix">
<p></p>
<!-- DO NOT EDIT! Automatically generated file. -->
<div itemscope="" itemtype="http://developers.google.com/ReferenceObject">
<meta content="tf.compat.v1.estimator.DNNRegressor" itemprop="name"/>
<meta content="Stable" itemprop="path"/>
<meta content="__init__" itemprop="property"/>
<meta content="eval_dir" itemprop="property"/>
<meta content="evaluate" itemprop="property"/>
<meta content="experimental_export_all_saved_models" itemprop="property"/>
<meta content="export_saved_model" itemprop="property"/>
<meta content="export_savedmodel" itemprop="property"/>
<meta content="get_variable_names" itemprop="property"/>
<meta content="get_variable_value" itemprop="property"/>
<meta content="latest_checkpoint" itemprop="property"/>
<meta content="predict" itemprop="property"/>
<meta content="train" itemprop="property"/>
</div>
<!-- Insert buttons and diff -->
<table align="left" class="tfo-notebook-buttons tfo-api">
<tbody><tr><td>
<a href="https://github.com/tensorflow/estimator/tree/master/tensorflow_estimator/python/estimator/canned/dnn.py" target="_blank">
<img src="https://www.tensorflow.org/images/GitHub-Mark-32px.png"/>
    View source on GitHub
  </a>
</td></tr></tbody></table>
<p>A regressor for TensorFlow DNN models.</p>
<p>Inherits From: <a href="https://www.tensorflow.org/api_docs/python/tf/compat/v1/estimator/Estimator"><code dir="ltr" translate="no">Estimator</code></a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">tf.compat.v1.estimator.DNNRegressor(
    hidden_units, feature_columns, model_dir=None, label_dimension=1,
    weight_column=None, optimizer=&#39;Adagrad&#39;, activation_fn=tf.nn.relu, dropout=None,
    input_layer_partitioner=None, config=None, warm_start_from=None,
    loss_reduction=losses.Reduction.SUM, batch_norm=False
)
</code></pre>
<!-- Placeholder for "Used in" -->
<h4 id="example">Example:</h4>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">categorical_feature_a = categorical_column_with_hash_bucket(...)
categorical_feature_b = categorical_column_with_hash_bucket(...)

categorical_feature_a_emb = embedding_column(
    categorical_column=categorical_feature_a, ...)
categorical_feature_b_emb = embedding_column(
    categorical_column=categorical_feature_b, ...)

estimator = tf.estimator.DNNRegressor(
    feature_columns=[categorical_feature_a_emb, categorical_feature_b_emb],
    hidden_units=[1024, 512, 256])

# Or estimator using the ProximalAdagradOptimizer optimizer with
# regularization.
estimator = tf.estimator.DNNRegressor(
    feature_columns=[categorical_feature_a_emb, categorical_feature_b_emb],
    hidden_units=[1024, 512, 256],
    optimizer=tf.compat.v1.train.ProximalAdagradOptimizer(
      learning_rate=0.1,
      l1_regularization_strength=0.001
    ))

# Or estimator using an optimizer with a learning rate decay.
estimator = tf.estimator.DNNRegressor(
    feature_columns=[categorical_feature_a_emb, categorical_feature_b_emb],
    hidden_units=[1024, 512, 256],
    optimizer=lambda: tf.keras.optimizers.Adam(
        learning_rate=tf.compat.v1.train.exponential_decay(
            learning_rate=0.1,
            global_step=tf.compat.v1.train.get_global_step(),
            decay_steps=10000,
            decay_rate=0.96))

# Or estimator with warm-starting from a previous checkpoint.
estimator = tf.estimator.DNNRegressor(
    feature_columns=[categorical_feature_a_emb, categorical_feature_b_emb],
    hidden_units=[1024, 512, 256],
    warm_start_from=&#34;/path/to/checkpoint/dir&#34;)

# Input builders
def input_fn_train:
  # Returns tf.data.Dataset of (x, y) tuple where y represents label&#39;s class
  # index.
  pass
def input_fn_eval:
  # Returns tf.data.Dataset of (x, y) tuple where y represents label&#39;s class
  # index.
  pass
def input_fn_predict:
  # Returns tf.data.Dataset of (x, None) tuple.
  pass
estimator.train(input_fn=input_fn_train)
metrics = estimator.evaluate(input_fn=input_fn_eval)
predictions = estimator.predict(input_fn=input_fn_predict)
</code></pre>
<p>Input of <code dir="ltr" translate="no">train</code> and <code dir="ltr" translate="no">evaluate</code> should have following features,
otherwise there will be a <code dir="ltr" translate="no">KeyError</code>:</p>
<ul>
<li>if <code dir="ltr" translate="no">weight_column</code> is not <code dir="ltr" translate="no">None</code>, a feature with <code dir="ltr" translate="no">key=weight_column</code> whose
value is a <code dir="ltr" translate="no">Tensor</code>.</li>
<li>for each <code dir="ltr" translate="no">column</code> in <code dir="ltr" translate="no">feature_columns</code>:
<ul>
<li>if <code dir="ltr" translate="no">column</code> is a <code dir="ltr" translate="no">CategoricalColumn</code>, a feature with <code dir="ltr" translate="no">key=column.name</code>
whose <code dir="ltr" translate="no">value</code> is a <code dir="ltr" translate="no">SparseTensor</code>.</li>
<li>if <code dir="ltr" translate="no">column</code> is a <code dir="ltr" translate="no">WeightedCategoricalColumn</code>, two features: the first
with <code dir="ltr" translate="no">key</code> the id column name, the second with <code dir="ltr" translate="no">key</code> the weight column
name. Both features&#39; <code dir="ltr" translate="no">value</code> must be a <code dir="ltr" translate="no">SparseTensor</code>.</li>
<li>if <code dir="ltr" translate="no">column</code> is a <code dir="ltr" translate="no">DenseColumn</code>, a feature with <code dir="ltr" translate="no">key=column.name</code>
whose <code dir="ltr" translate="no">value</code> is a <code dir="ltr" translate="no">Tensor</code>.</li>
</ul></li>
</ul>
<p>Loss is calculated by using mean squared error.</p>
<h4 id="args">Args:</h4>
<ul>
<li><p><b><code dir="ltr" translate="no">model_fn</code></b>: Model function. Follows the signature:</p>
<ul>
<li><p>Args:</p></li>
<li><p><code dir="ltr" translate="no">features</code>: This is the first item returned from the <code dir="ltr" translate="no">input_fn</code>
   passed to <code dir="ltr" translate="no">train</code>, <code dir="ltr" translate="no">evaluate</code>, and <code dir="ltr" translate="no">predict</code>. This should be a
   single <a href="https://www.tensorflow.org/api_docs/python/tf/Tensor"><code dir="ltr" translate="no">tf.Tensor</code></a> or <code dir="ltr" translate="no">dict</code> of same.</p></li>
<li><p><code dir="ltr" translate="no">labels</code>: This is the second item returned from the <code dir="ltr" translate="no">input_fn</code>
   passed to <code dir="ltr" translate="no">train</code>, <code dir="ltr" translate="no">evaluate</code>, and <code dir="ltr" translate="no">predict</code>. This should be a
   single <a href="https://www.tensorflow.org/api_docs/python/tf/Tensor"><code dir="ltr" translate="no">tf.Tensor</code></a> or <code dir="ltr" translate="no">dict</code> of same (for multi-head models).
   If mode is <a href="https://www.tensorflow.org/api_docs/python/tf/estimator/ModeKeys#PREDICT"><code dir="ltr" translate="no">tf.estimator.ModeKeys.PREDICT</code></a>, <code dir="ltr" translate="no">labels=None</code> will
   be passed. If the <code dir="ltr" translate="no">model_fn</code>&#39;s signature does not accept
   <code dir="ltr" translate="no">mode</code>, the <code dir="ltr" translate="no">model_fn</code> must still be able to handle
   <code dir="ltr" translate="no">labels=None</code>.</p></li>
<li><p><code dir="ltr" translate="no">mode</code>: Optional. Specifies if this is training, evaluation or
   prediction. See <a href="https://www.tensorflow.org/api_docs/python/tf/estimator/ModeKeys"><code dir="ltr" translate="no">tf.estimator.ModeKeys</code></a>.</p></li>
<li><p><code dir="ltr" translate="no">params</code>: Optional <code dir="ltr" translate="no">dict</code> of hyperparameters.  Will receive what
   is passed to Estimator in <code dir="ltr" translate="no">params</code> parameter. This allows
   to configure Estimators from hyper parameter tuning.</p></li>
<li><p><code dir="ltr" translate="no">config</code>: Optional <a href="api_docs/python/tf/estimator/RunConfig"><code dir="ltr" translate="no">estimator.RunConfig</code></a> object. Will receive what
   is passed to Estimator as its <code dir="ltr" translate="no">config</code> parameter, or a default
   value. Allows setting up things in your <code dir="ltr" translate="no">model_fn</code> based on
   configuration such as <code dir="ltr" translate="no">num_ps_replicas</code>, or <code dir="ltr" translate="no">model_dir</code>.</p></li>
<li><p>Returns:
<a href="https://www.tensorflow.org/api_docs/python/tf/estimator/EstimatorSpec"><code dir="ltr" translate="no">tf.estimator.EstimatorSpec</code></a></p></li>
</ul></li>
<li><p><b><code dir="ltr" translate="no">model_dir</code></b>: Directory to save model parameters, graph and etc. This can
also be used to load checkpoints from the directory into an estimator to
continue training a previously saved model. If <code dir="ltr" translate="no">PathLike</code> object, the
path will be resolved. If <code dir="ltr" translate="no">None</code>, the model_dir in <code dir="ltr" translate="no">config</code> will be used
if set. If both are set, they must be same. If both are <code dir="ltr" translate="no">None</code>, a
temporary directory will be used.</p></li>
<li><p><b><code dir="ltr" translate="no">config</code></b>: <a href="api_docs/python/tf/estimator/RunConfig"><code dir="ltr" translate="no">estimator.RunConfig</code></a> configuration object.</p></li>
<li><p><b><code dir="ltr" translate="no">params</code></b>: <code dir="ltr" translate="no">dict</code> of hyper parameters that will be passed into <code dir="ltr" translate="no">model_fn</code>.
    Keys are names of parameters, values are basic python types.</p></li>
<li><p><b><code dir="ltr" translate="no">warm_start_from</code></b>: Optional string filepath to a checkpoint or SavedModel to
             warm-start from, or a <a href="https://www.tensorflow.org/api_docs/python/tf/estimator/WarmStartSettings"><code dir="ltr" translate="no">tf.estimator.WarmStartSettings</code></a>
             object to fully configure warm-starting.</p>
<pre class="prettyprint" dir="ltr" translate="no"><code dir="ltr" translate="no">         If None, only TRAINABLE variables are warm-started.

         If the string filepath is provided instead of a
         &lt;a href=&#34;../../../../tf/estimator/WarmStartSettings&#34;&gt;&lt;code&gt;tf.estimator.WarmStartSettings&lt;/code&gt;&lt;/a&gt;, then all variables are
         warm-started, and it is assumed that vocabularies
         and &lt;a href=&#34;../../../../tf/Tensor&#34;&gt;&lt;code&gt;tf.Tensor&lt;/code&gt;&lt;/a&gt; names are unchanged.
</code></pre></li>
</ul>
<h4 id="attributes">Attributes:</h4>
<ul>
<li><b><code dir="ltr" translate="no">config</code></b></li>
<li><b><code dir="ltr" translate="no">model_dir</code></b></li>
<li><p><b><code dir="ltr" translate="no">model_fn</code></b>:   Returns the <code dir="ltr" translate="no">model_fn</code> which is bound to <code dir="ltr" translate="no">self.params</code>.</p></li>
<li><p><b><code dir="ltr" translate="no">params</code></b></p></li>
</ul>
<h4 id="raises">Raises:</h4>
<ul>
<li><b><code dir="ltr" translate="no">ValueError</code></b>: parameters of <code dir="ltr" translate="no">model_fn</code> don&#39;t match <code dir="ltr" translate="no">params</code>.</li>
<li><b><code dir="ltr" translate="no">ValueError</code></b>: if this is called via a subclass and if that class overrides
a member of <code dir="ltr" translate="no">Estimator</code>.</li>
</ul>
<h4 id="eager_compatibility">Eager Compatibility</h4>
<p>Estimators can be used while eager execution is enabled. Note that <code dir="ltr" translate="no">input_fn</code>
and all hooks are executed inside a graph context, so they have to be written
to be compatible with graph mode. Note that <code dir="ltr" translate="no">input_fn</code> code using <a href="https://www.tensorflow.org/api_docs/python/tf/data"><code dir="ltr" translate="no">tf.data</code></a>
generally works in both graph and eager modes.</p>
<h2 id="methods">Methods</h2>
<h3 id="eval_dir"><code dir="ltr" translate="no">eval_dir</code></h3>
<p><a href="https://github.com/tensorflow/estimator/tree/master/tensorflow_estimator/python/estimator/estimator.py" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">eval_dir(
    name=None
)
</code></pre>
<p>Shows the directory name where evaluation metrics are dumped.</p>
<h4 id="args_2">Args:</h4>
<ul>
<li><b><code dir="ltr" translate="no">name</code></b>: Name of the evaluation if user needs to run multiple evaluations on
different data sets, such as on training data vs test data. Metrics for
different evaluations are saved in separate folders, and appear
separately in tensorboard.</li>
</ul>
<h4 id="returns">Returns:</h4>
<p>A string which is the path of directory contains evaluation metrics.</p>
<h3 id="evaluate"><code dir="ltr" translate="no">evaluate</code></h3>
<p><a href="https://github.com/tensorflow/estimator/tree/master/tensorflow_estimator/python/estimator/estimator.py" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">evaluate(
    input_fn, steps=None, hooks=None, checkpoint_path=None, name=None
)
</code></pre>
<p>Evaluates the model given evaluation data <code dir="ltr" translate="no">input_fn</code>.</p>
<p>For each step, calls <code dir="ltr" translate="no">input_fn</code>, which returns one batch of data.
Evaluates until:</p>
<ul>
<li><code dir="ltr" translate="no">steps</code> batches are processed, or</li>
<li><code dir="ltr" translate="no">input_fn</code> raises an end-of-input exception (<a href="https://www.tensorflow.org/api_docs/python/tf/errors/OutOfRangeError"><code dir="ltr" translate="no">tf.errors.OutOfRangeError</code></a>
or
<code dir="ltr" translate="no">StopIteration</code>).</li>
</ul>
<h4 id="args_3">Args:</h4>
<ul>
<li><b><code dir="ltr" translate="no">input_fn</code></b>: A function that constructs the input data for evaluation. See
<a href="https://tensorflow.org/guide/premade_estimators#create_input_functions">Premade Estimators</a>
for more information. The
function should construct and return one of the following:  * A
<a href="https://www.tensorflow.org/api_docs/python/tf/data/Dataset"><code dir="ltr" translate="no">tf.data.Dataset</code></a> object: Outputs of <code dir="ltr" translate="no">Dataset</code> object must be a tuple
<code dir="ltr" translate="no">(features, labels)</code> with same constraints as below. * A tuple
<code dir="ltr" translate="no">(features, labels)</code>: Where <code dir="ltr" translate="no">features</code> is a <a href="https://www.tensorflow.org/api_docs/python/tf/Tensor"><code dir="ltr" translate="no">tf.Tensor</code></a> or a dictionary
of string feature name to <code dir="ltr" translate="no">Tensor</code> and <code dir="ltr" translate="no">labels</code> is a <code dir="ltr" translate="no">Tensor</code> or a
dictionary of string label name to <code dir="ltr" translate="no">Tensor</code>. Both <code dir="ltr" translate="no">features</code> and
<code dir="ltr" translate="no">labels</code> are consumed by <code dir="ltr" translate="no">model_fn</code>. They should satisfy the expectation
of <code dir="ltr" translate="no">model_fn</code> from inputs.</li>
<li><b><code dir="ltr" translate="no">steps</code></b>: Number of steps for which to evaluate model. If <code dir="ltr" translate="no">None</code>, evaluates
until <code dir="ltr" translate="no">input_fn</code> raises an end-of-input exception.</li>
<li><b><code dir="ltr" translate="no">hooks</code></b>: List of <code dir="ltr" translate="no">tf.train.SessionRunHook</code> subclass instances. Used for
callbacks inside the evaluation call.</li>
<li><b><code dir="ltr" translate="no">checkpoint_path</code></b>: Path of a specific checkpoint to evaluate. If <code dir="ltr" translate="no">None</code>, the
latest checkpoint in <code dir="ltr" translate="no">model_dir</code> is used.  If there are no checkpoints
in <code dir="ltr" translate="no">model_dir</code>, evaluation is run with newly initialized <code dir="ltr" translate="no">Variables</code>
instead of ones restored from checkpoint.</li>
<li><b><code dir="ltr" translate="no">name</code></b>: Name of the evaluation if user needs to run multiple evaluations on
different data sets, such as on training data vs test data. Metrics for
different evaluations are saved in separate folders, and appear
separately in tensorboard.</li>
</ul>
<h4 id="returns_2">Returns:</h4>
<p>A dict containing the evaluation metrics specified in <code dir="ltr" translate="no">model_fn</code> keyed by
name, as well as an entry <code dir="ltr" translate="no">global_step</code> which contains the value of the
global step for which this evaluation was performed. For canned
estimators, the dict contains the <code dir="ltr" translate="no">loss</code> (mean loss per mini-batch) and
the <code dir="ltr" translate="no">average_loss</code> (mean loss per sample). Canned classifiers also return
the <code dir="ltr" translate="no">accuracy</code>. Canned regressors also return the <code dir="ltr" translate="no">label/mean</code> and the
<code dir="ltr" translate="no">prediction/mean</code>.</p>
<h4 id="raises_2">Raises:</h4>
<ul>
<li><b><code dir="ltr" translate="no">ValueError</code></b>: If <code dir="ltr" translate="no">steps &lt;= 0</code>.</li>
</ul>
<h3 id="experimental_export_all_saved_models"><code dir="ltr" translate="no">experimental_export_all_saved_models</code></h3>
<p><a href="https://github.com/tensorflow/estimator/tree/master/tensorflow_estimator/python/estimator/estimator.py" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">experimental_export_all_saved_models(
    export_dir_base, input_receiver_fn_map, assets_extra=None, as_text=False,
    checkpoint_path=None
)
</code></pre>
<p>Exports a <code dir="ltr" translate="no">SavedModel</code> with <code dir="ltr" translate="no">tf.MetaGraphDefs</code> for each requested mode.</p>
<p>For each mode passed in via the <code dir="ltr" translate="no">input_receiver_fn_map</code>,
this method builds a new graph by calling the <code dir="ltr" translate="no">input_receiver_fn</code> to obtain
feature and label <code dir="ltr" translate="no">Tensor</code>s. Next, this method calls the <code dir="ltr" translate="no">Estimator</code>&#39;s
<code dir="ltr" translate="no">model_fn</code> in the passed mode to generate the model graph based on
those features and labels, and restores the given checkpoint
(or, lacking that, the most recent checkpoint) into the graph.
Only one of the modes is used for saving variables to the <code dir="ltr" translate="no">SavedModel</code>
(order of preference: <a href="https://www.tensorflow.org/api_docs/python/tf/estimator/ModeKeys#TRAIN"><code dir="ltr" translate="no">tf.estimator.ModeKeys.TRAIN</code></a>,
<a href="https://www.tensorflow.org/api_docs/python/tf/estimator/ModeKeys#EVAL"><code dir="ltr" translate="no">tf.estimator.ModeKeys.EVAL</code></a>, then
<a href="https://www.tensorflow.org/api_docs/python/tf/estimator/ModeKeys#PREDICT"><code dir="ltr" translate="no">tf.estimator.ModeKeys.PREDICT</code></a>), such that up to three
<code dir="ltr" translate="no">tf.MetaGraphDefs</code> are saved with a single set of variables in a single
<code dir="ltr" translate="no">SavedModel</code> directory.</p>
<p>For the variables and <code dir="ltr" translate="no">tf.MetaGraphDefs</code>, a timestamped export directory
below
<code dir="ltr" translate="no">export_dir_base</code>, and writes a <code dir="ltr" translate="no">SavedModel</code> into it containing
the <code dir="ltr" translate="no">tf.MetaGraphDef</code> for the given mode and its associated signatures.</p>
<p>For prediction, the exported <code dir="ltr" translate="no">MetaGraphDef</code> will provide one <code dir="ltr" translate="no">SignatureDef</code>
for each element of the <code dir="ltr" translate="no">export_outputs</code> dict returned from the <code dir="ltr" translate="no">model_fn</code>,
named using the same keys.  One of these keys is always
<code dir="ltr" translate="no">tf.saved_model.signature_constants.DEFAULT_SERVING_SIGNATURE_DEF_KEY</code>,
indicating which
signature will be served when a serving request does not specify one.
For each signature, the outputs are provided by the corresponding
<a href="https://www.tensorflow.org/api_docs/python/tf/estimator/export/ExportOutput"><code dir="ltr" translate="no">tf.estimator.export.ExportOutput</code></a>s, and the inputs are always the input
receivers provided by
the <code dir="ltr" translate="no">serving_input_receiver_fn</code>.</p>
<p>For training and evaluation, the <code dir="ltr" translate="no">train_op</code> is stored in an extra
collection,
and loss, metrics, and predictions are included in a <code dir="ltr" translate="no">SignatureDef</code> for the
mode in question.</p>
<p>Extra assets may be written into the <code dir="ltr" translate="no">SavedModel</code> via the <code dir="ltr" translate="no">assets_extra</code>
argument.  This should be a dict, where each key gives a destination path
(including the filename) relative to the assets.extra directory.  The
corresponding value gives the full path of the source file to be copied.
For example, the simple case of copying a single file without renaming it
is specified as <code dir="ltr" translate="no">{&#39;my_asset_file.txt&#39;: &#39;/path/to/my_asset_file.txt&#39;}</code>.</p>
<h4 id="args_4">Args:</h4>
<ul>
<li><b><code dir="ltr" translate="no">export_dir_base</code></b>: A string containing a directory in which to create
timestamped subdirectories containing exported <code dir="ltr" translate="no">SavedModel</code>s.</li>
<li><b><code dir="ltr" translate="no">input_receiver_fn_map</code></b>: dict of <a href="https://www.tensorflow.org/api_docs/python/tf/estimator/ModeKeys"><code dir="ltr" translate="no">tf.estimator.ModeKeys</code></a> to
<code dir="ltr" translate="no">input_receiver_fn</code> mappings, where the <code dir="ltr" translate="no">input_receiver_fn</code> is a
function that takes no arguments and returns the appropriate subclass of
<code dir="ltr" translate="no">InputReceiver</code>.</li>
<li><b><code dir="ltr" translate="no">assets_extra</code></b>: A dict specifying how to populate the assets.extra directory
within the exported <code dir="ltr" translate="no">SavedModel</code>, or <code dir="ltr" translate="no">None</code> if no extra assets are
needed.</li>
<li><b><code dir="ltr" translate="no">as_text</code></b>: whether to write the <code dir="ltr" translate="no">SavedModel</code> proto in text format.</li>
<li><b><code dir="ltr" translate="no">checkpoint_path</code></b>: The checkpoint path to export.  If <code dir="ltr" translate="no">None</code> (the default),
the most recent checkpoint found within the model directory is chosen.</li>
</ul>
<h4 id="returns_3">Returns:</h4>
<p>The string path to the exported directory.</p>
<h4 id="raises_3">Raises:</h4>
<ul>
<li><b><code dir="ltr" translate="no">ValueError</code></b>: if any <code dir="ltr" translate="no">input_receiver_fn</code> is <code dir="ltr" translate="no">None</code>, no <code dir="ltr" translate="no">export_outputs</code>
are provided, or no checkpoint can be found.</li>
</ul>
<h3 id="export_saved_model"><code dir="ltr" translate="no">export_saved_model</code></h3>
<p><a href="https://github.com/tensorflow/estimator/tree/master/tensorflow_estimator/python/estimator/estimator.py" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">export_saved_model(
    export_dir_base, serving_input_receiver_fn, assets_extra=None, as_text=False,
    checkpoint_path=None, experimental_mode=ModeKeys.PREDICT
)
</code></pre>
<p>Exports inference graph as a <code dir="ltr" translate="no">SavedModel</code> into the given dir.</p>
<p>For a detailed guide, see
<a href="https://tensorflow.org/guide/saved_model#using_savedmodel_with_estimators">Using SavedModel with Estimators</a>.</p>
<p>This method builds a new graph by first calling the
<code dir="ltr" translate="no">serving_input_receiver_fn</code> to obtain feature <code dir="ltr" translate="no">Tensor</code>s, and then calling
this <code dir="ltr" translate="no">Estimator</code>&#39;s <code dir="ltr" translate="no">model_fn</code> to generate the model graph based on those
features. It restores the given checkpoint (or, lacking that, the most
recent checkpoint) into this graph in a fresh session.  Finally it creates
a timestamped export directory below the given <code dir="ltr" translate="no">export_dir_base</code>, and writes
a <code dir="ltr" translate="no">SavedModel</code> into it containing a single <code dir="ltr" translate="no">tf.MetaGraphDef</code> saved from this
session.</p>
<p>The exported <code dir="ltr" translate="no">MetaGraphDef</code> will provide one <code dir="ltr" translate="no">SignatureDef</code> for each
element of the <code dir="ltr" translate="no">export_outputs</code> dict returned from the <code dir="ltr" translate="no">model_fn</code>, named
using
the same keys.  One of these keys is always
<code dir="ltr" translate="no">tf.saved_model.signature_constants.DEFAULT_SERVING_SIGNATURE_DEF_KEY</code>,
indicating which
signature will be served when a serving request does not specify one.
For each signature, the outputs are provided by the corresponding
<a href="https://www.tensorflow.org/api_docs/python/tf/estimator/export/ExportOutput"><code dir="ltr" translate="no">tf.estimator.export.ExportOutput</code></a>s, and the inputs are always the input
receivers provided by
the <code dir="ltr" translate="no">serving_input_receiver_fn</code>.</p>
<p>Extra assets may be written into the <code dir="ltr" translate="no">SavedModel</code> via the <code dir="ltr" translate="no">assets_extra</code>
argument.  This should be a dict, where each key gives a destination path
(including the filename) relative to the assets.extra directory.  The
corresponding value gives the full path of the source file to be copied.
For example, the simple case of copying a single file without renaming it
is specified as <code dir="ltr" translate="no">{&#39;my_asset_file.txt&#39;: &#39;/path/to/my_asset_file.txt&#39;}</code>.</p>
<p>The experimental_mode parameter can be used to export a single
train/eval/predict graph as a <code dir="ltr" translate="no">SavedModel</code>.
See <code dir="ltr" translate="no">experimental_export_all_saved_models</code> for full docs.</p>
<h4 id="args_5">Args:</h4>
<ul>
<li><b><code dir="ltr" translate="no">export_dir_base</code></b>: A string containing a directory in which to create
timestamped subdirectories containing exported <code dir="ltr" translate="no">SavedModel</code>s.</li>
<li><b><code dir="ltr" translate="no">serving_input_receiver_fn</code></b>: A function that takes no argument and returns a
<a href="https://www.tensorflow.org/api_docs/python/tf/estimator/export/ServingInputReceiver"><code dir="ltr" translate="no">tf.estimator.export.ServingInputReceiver</code></a> or
<a href="https://www.tensorflow.org/api_docs/python/tf/estimator/export/TensorServingInputReceiver"><code dir="ltr" translate="no">tf.estimator.export.TensorServingInputReceiver</code></a>.</li>
<li><b><code dir="ltr" translate="no">assets_extra</code></b>: A dict specifying how to populate the assets.extra directory
within the exported <code dir="ltr" translate="no">SavedModel</code>, or <code dir="ltr" translate="no">None</code> if no extra assets are
needed.</li>
<li><b><code dir="ltr" translate="no">as_text</code></b>: whether to write the <code dir="ltr" translate="no">SavedModel</code> proto in text format.</li>
<li><b><code dir="ltr" translate="no">checkpoint_path</code></b>: The checkpoint path to export.  If <code dir="ltr" translate="no">None</code> (the default),
the most recent checkpoint found within the model directory is chosen.</li>
<li><b><code dir="ltr" translate="no">experimental_mode</code></b>: <a href="https://www.tensorflow.org/api_docs/python/tf/estimator/ModeKeys"><code dir="ltr" translate="no">tf.estimator.ModeKeys</code></a> value indicating with mode
will be exported. Note that this feature is experimental.</li>
</ul>
<h4 id="returns_4">Returns:</h4>
<p>The string path to the exported directory.</p>
<h4 id="raises_4">Raises:</h4>
<ul>
<li><b><code dir="ltr" translate="no">ValueError</code></b>: if no <code dir="ltr" translate="no">serving_input_receiver_fn</code> is provided, no
<code dir="ltr" translate="no">export_outputs</code> are provided, or no checkpoint can be found.</li>
</ul>
<h3 id="export_savedmodel"><code dir="ltr" translate="no">export_savedmodel</code></h3>
<p><a href="https://github.com/tensorflow/estimator/tree/master/tensorflow_estimator/python/estimator/estimator.py" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">export_savedmodel(
    export_dir_base, serving_input_receiver_fn, assets_extra=None, as_text=False,
    checkpoint_path=None, strip_default_attrs=False
)
</code></pre>
<p>Exports inference graph as a <code dir="ltr" translate="no">SavedModel</code> into the given dir. (deprecated)</p>
<aside class="warning"><strong>Warning:</strong><span> THIS FUNCTION IS DEPRECATED. It will be removed in a future version.
Instructions for updating:
This function has been renamed, use <code dir="ltr" translate="no">export_saved_model</code> instead.</span></aside>
<p>For a detailed guide, see
<a href="https://tensorflow.org/guide/saved_model#using_savedmodel_with_estimators">Using SavedModel with Estimators</a>.</p>
<p>This method builds a new graph by first calling the
<code dir="ltr" translate="no">serving_input_receiver_fn</code> to obtain feature <code dir="ltr" translate="no">Tensor</code>s, and then calling
this <code dir="ltr" translate="no">Estimator</code>&#39;s <code dir="ltr" translate="no">model_fn</code> to generate the model graph based on those
features. It restores the given checkpoint (or, lacking that, the most
recent checkpoint) into this graph in a fresh session.  Finally it creates
a timestamped export directory below the given <code dir="ltr" translate="no">export_dir_base</code>, and writes
a <code dir="ltr" translate="no">SavedModel</code> into it containing a single <code dir="ltr" translate="no">tf.MetaGraphDef</code> saved from this
session.</p>
<p>The exported <code dir="ltr" translate="no">MetaGraphDef</code> will provide one <code dir="ltr" translate="no">SignatureDef</code> for each
element of the <code dir="ltr" translate="no">export_outputs</code> dict returned from the <code dir="ltr" translate="no">model_fn</code>, named
using
the same keys.  One of these keys is always
<code dir="ltr" translate="no">tf.saved_model.signature_constants.DEFAULT_SERVING_SIGNATURE_DEF_KEY</code>,
indicating which
signature will be served when a serving request does not specify one.
For each signature, the outputs are provided by the corresponding
<a href="https://www.tensorflow.org/api_docs/python/tf/estimator/export/ExportOutput"><code dir="ltr" translate="no">tf.estimator.export.ExportOutput</code></a>s, and the inputs are always the input
receivers provided by
the <code dir="ltr" translate="no">serving_input_receiver_fn</code>.</p>
<p>Extra assets may be written into the <code dir="ltr" translate="no">SavedModel</code> via the <code dir="ltr" translate="no">assets_extra</code>
argument.  This should be a dict, where each key gives a destination path
(including the filename) relative to the assets.extra directory.  The
corresponding value gives the full path of the source file to be copied.
For example, the simple case of copying a single file without renaming it
is specified as <code dir="ltr" translate="no">{&#39;my_asset_file.txt&#39;: &#39;/path/to/my_asset_file.txt&#39;}</code>.</p>
<h4 id="args_6">Args:</h4>
<ul>
<li><b><code dir="ltr" translate="no">export_dir_base</code></b>: A string containing a directory in which to create
timestamped subdirectories containing exported <code dir="ltr" translate="no">SavedModel</code>s.</li>
<li><b><code dir="ltr" translate="no">serving_input_receiver_fn</code></b>: A function that takes no argument and returns a
<a href="https://www.tensorflow.org/api_docs/python/tf/estimator/export/ServingInputReceiver"><code dir="ltr" translate="no">tf.estimator.export.ServingInputReceiver</code></a> or
<a href="https://www.tensorflow.org/api_docs/python/tf/estimator/export/TensorServingInputReceiver"><code dir="ltr" translate="no">tf.estimator.export.TensorServingInputReceiver</code></a>.</li>
<li><b><code dir="ltr" translate="no">assets_extra</code></b>: A dict specifying how to populate the assets.extra directory
within the exported <code dir="ltr" translate="no">SavedModel</code>, or <code dir="ltr" translate="no">None</code> if no extra assets are
needed.</li>
<li><b><code dir="ltr" translate="no">as_text</code></b>: whether to write the <code dir="ltr" translate="no">SavedModel</code> proto in text format.</li>
<li><b><code dir="ltr" translate="no">checkpoint_path</code></b>: The checkpoint path to export.  If <code dir="ltr" translate="no">None</code> (the default),
the most recent checkpoint found within the model directory is chosen.</li>
<li><b><code dir="ltr" translate="no">strip_default_attrs</code></b>: Boolean. If <code dir="ltr" translate="no">True</code>, default-valued attributes will be
removed from the <code dir="ltr" translate="no">NodeDef</code>s. For a detailed guide, see <a href="https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/saved_model/README.md#stripping-default-valued-attributes">Stripping
Default-Valued Attributes</a>.</li>
</ul>
<h4 id="returns_5">Returns:</h4>
<p>The string path to the exported directory.</p>
<h4 id="raises_5">Raises:</h4>
<ul>
<li><b><code dir="ltr" translate="no">ValueError</code></b>: if no <code dir="ltr" translate="no">serving_input_receiver_fn</code> is provided, no
<code dir="ltr" translate="no">export_outputs</code> are provided, or no checkpoint can be found.</li>
</ul>
<h3 id="get_variable_names"><code dir="ltr" translate="no">get_variable_names</code></h3>
<p><a href="https://github.com/tensorflow/estimator/tree/master/tensorflow_estimator/python/estimator/estimator.py" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">get_variable_names()
</code></pre>
<p>Returns list of all variable names in this model.</p>
<h4 id="returns_6">Returns:</h4>
<p>List of names.</p>
<h4 id="raises_6">Raises:</h4>
<ul>
<li><b><code dir="ltr" translate="no">ValueError</code></b>: If the <code dir="ltr" translate="no">Estimator</code> has not produced a checkpoint yet.</li>
</ul>
<h3 id="get_variable_value"><code dir="ltr" translate="no">get_variable_value</code></h3>
<p><a href="https://github.com/tensorflow/estimator/tree/master/tensorflow_estimator/python/estimator/estimator.py" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">get_variable_value(
    name
)
</code></pre>
<p>Returns value of the variable given by name.</p>
<h4 id="args_7">Args:</h4>
<ul>
<li><b><code dir="ltr" translate="no">name</code></b>: string or a list of string, name of the tensor.</li>
</ul>
<h4 id="returns_7">Returns:</h4>
<p>Numpy array - value of the tensor.</p>
<h4 id="raises_7">Raises:</h4>
<ul>
<li><b><code dir="ltr" translate="no">ValueError</code></b>: If the <code dir="ltr" translate="no">Estimator</code> has not produced a checkpoint yet.</li>
</ul>
<h3 id="latest_checkpoint"><code dir="ltr" translate="no">latest_checkpoint</code></h3>
<p><a href="https://github.com/tensorflow/estimator/tree/master/tensorflow_estimator/python/estimator/estimator.py" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">latest_checkpoint()
</code></pre>
<p>Finds the filename of the latest saved checkpoint file in <code dir="ltr" translate="no">model_dir</code>.</p>
<h4 id="returns_8">Returns:</h4>
<p>The full path to the latest checkpoint or <code dir="ltr" translate="no">None</code> if no checkpoint was
found.</p>
<h3 id="predict"><code dir="ltr" translate="no">predict</code></h3>
<p><a href="https://github.com/tensorflow/estimator/tree/master/tensorflow_estimator/python/estimator/estimator.py" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">predict(
    input_fn, predict_keys=None, hooks=None, checkpoint_path=None,
    yield_single_examples=True
)
</code></pre>
<p>Yields predictions for given features.</p>
<p>Please note that interleaving two predict outputs does not work. See:
<a href="https://github.com/tensorflow/tensorflow/issues/20506#issuecomment-422208517">issue/20506</a></p>
<h4 id="args_8">Args:</h4>
<ul>
<li><p><b><code dir="ltr" translate="no">input_fn</code></b>: A function that constructs the features. Prediction continues
until <code dir="ltr" translate="no">input_fn</code> raises an end-of-input exception
(<a href="https://www.tensorflow.org/api_docs/python/tf/errors/OutOfRangeError"><code dir="ltr" translate="no">tf.errors.OutOfRangeError</code></a> or <code dir="ltr" translate="no">StopIteration</code>).
See <a href="https://tensorflow.org/guide/premade_estimators#create_input_functions">Premade Estimators</a>
for more information. The function should construct and return one of
the following:</p>
<ul>
<li><p>A <a href="https://www.tensorflow.org/api_docs/python/tf/data/Dataset"><code dir="ltr" translate="no">tf.data.Dataset</code></a> object: Outputs of <code dir="ltr" translate="no">Dataset</code> object must have
same constraints as below.</p></li>
<li><p>features: A <a href="https://www.tensorflow.org/api_docs/python/tf/Tensor"><code dir="ltr" translate="no">tf.Tensor</code></a> or a dictionary of string feature name to
<code dir="ltr" translate="no">Tensor</code>. features are consumed by <code dir="ltr" translate="no">model_fn</code>. They should satisfy
the expectation of <code dir="ltr" translate="no">model_fn</code> from inputs.</p></li>
<li><p>A tuple, in which case the first item is extracted as features.</p></li>
</ul></li>
<li><p><b><code dir="ltr" translate="no">predict_keys</code></b>: list of <code dir="ltr" translate="no">str</code>, name of the keys to predict. It is used if
the <a href="https://www.tensorflow.org/api_docs/python/tf/estimator/EstimatorSpec#predictions"><code dir="ltr" translate="no">tf.estimator.EstimatorSpec.predictions</code></a> is a <code dir="ltr" translate="no">dict</code>. If
<code dir="ltr" translate="no">predict_keys</code> is used then rest of the predictions will be filtered
from the dictionary. If <code dir="ltr" translate="no">None</code>, returns all.</p></li>
<li><p><b><code dir="ltr" translate="no">hooks</code></b>: List of <code dir="ltr" translate="no">tf.train.SessionRunHook</code> subclass instances. Used for
callbacks inside the prediction call.</p></li>
<li><p><b><code dir="ltr" translate="no">checkpoint_path</code></b>: Path of a specific checkpoint to predict. If <code dir="ltr" translate="no">None</code>, the
latest checkpoint in <code dir="ltr" translate="no">model_dir</code> is used.  If there are no checkpoints
in <code dir="ltr" translate="no">model_dir</code>, prediction is run with newly initialized <code dir="ltr" translate="no">Variables</code>
instead of ones restored from checkpoint.</p></li>
<li><p><b><code dir="ltr" translate="no">yield_single_examples</code></b>: If <code dir="ltr" translate="no">False</code>, yields the whole batch as returned by
the <code dir="ltr" translate="no">model_fn</code> instead of decomposing the batch into individual
elements. This is useful if <code dir="ltr" translate="no">model_fn</code> returns some tensors whose first
dimension is not equal to the batch size.</p></li>
</ul>
<h4 id="yields">Yields:</h4>
<p>Evaluated values of <code dir="ltr" translate="no">predictions</code> tensors.</p>
<h4 id="raises_8">Raises:</h4>
<ul>
<li><b><code dir="ltr" translate="no">ValueError</code></b>: If batch length of predictions is not the same and
<code dir="ltr" translate="no">yield_single_examples</code> is <code dir="ltr" translate="no">True</code>.</li>
<li><b><code dir="ltr" translate="no">ValueError</code></b>: If there is a conflict between <code dir="ltr" translate="no">predict_keys</code> and
<code dir="ltr" translate="no">predictions</code>. For example if <code dir="ltr" translate="no">predict_keys</code> is not <code dir="ltr" translate="no">None</code> but
<a href="https://www.tensorflow.org/api_docs/python/tf/estimator/EstimatorSpec#predictions"><code dir="ltr" translate="no">tf.estimator.EstimatorSpec.predictions</code></a> is not a <code dir="ltr" translate="no">dict</code>.</li>
</ul>
<h3 id="train"><code dir="ltr" translate="no">train</code></h3>
<p><a href="https://github.com/tensorflow/estimator/tree/master/tensorflow_estimator/python/estimator/estimator.py" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">train(
    input_fn, hooks=None, steps=None, max_steps=None, saving_listeners=None
)
</code></pre>
<p>Trains a model given training data <code dir="ltr" translate="no">input_fn</code>.</p>
<h4 id="args_9">Args:</h4>
<ul>
<li><b><code dir="ltr" translate="no">input_fn</code></b>: A function that provides input data for training as minibatches.
See <a href="https://tensorflow.org/guide/premade_estimators#create_input_functions">Premade Estimators</a>
for more information. The function should construct and return one of
the following:
<ul>
<li>A <a href="https://www.tensorflow.org/api_docs/python/tf/data/Dataset"><code dir="ltr" translate="no">tf.data.Dataset</code></a> object: Outputs of <code dir="ltr" translate="no">Dataset</code> object must be
a tuple <code dir="ltr" translate="no">(features, labels)</code> with same constraints as below.</li>
<li>A tuple <code dir="ltr" translate="no">(features, labels)</code>: Where <code dir="ltr" translate="no">features</code> is a <a href="https://www.tensorflow.org/api_docs/python/tf/Tensor"><code dir="ltr" translate="no">tf.Tensor</code></a> or
a dictionary of string feature name to <code dir="ltr" translate="no">Tensor</code> and <code dir="ltr" translate="no">labels</code> is a
<code dir="ltr" translate="no">Tensor</code> or a dictionary of string label name to <code dir="ltr" translate="no">Tensor</code>. Both
<code dir="ltr" translate="no">features</code> and <code dir="ltr" translate="no">labels</code> are consumed by <code dir="ltr" translate="no">model_fn</code>. They should
satisfy the expectation of <code dir="ltr" translate="no">model_fn</code> from inputs.</li>
</ul></li>
<li><b><code dir="ltr" translate="no">hooks</code></b>: List of <code dir="ltr" translate="no">tf.train.SessionRunHook</code> subclass instances. Used for
callbacks inside the training loop.</li>
<li><b><code dir="ltr" translate="no">steps</code></b>: Number of steps for which to train the model. If <code dir="ltr" translate="no">None</code>, train
forever or train until <code dir="ltr" translate="no">input_fn</code> generates the <code dir="ltr" translate="no">tf.errors.OutOfRange</code>
error or <code dir="ltr" translate="no">StopIteration</code> exception. <code dir="ltr" translate="no">steps</code> works incrementally. If you
call two times <code dir="ltr" translate="no">train(steps=10)</code> then training occurs in total 20 steps.
If <code dir="ltr" translate="no">OutOfRange</code> or <code dir="ltr" translate="no">StopIteration</code> occurs in the middle, training stops
before 20 steps. If you don&#39;t want to have incremental behavior please
set <code dir="ltr" translate="no">max_steps</code> instead. If set, <code dir="ltr" translate="no">max_steps</code> must be <code dir="ltr" translate="no">None</code>.</li>
<li><b><code dir="ltr" translate="no">max_steps</code></b>: Number of total steps for which to train model. If <code dir="ltr" translate="no">None</code>,
train forever or train until <code dir="ltr" translate="no">input_fn</code> generates the
<code dir="ltr" translate="no">tf.errors.OutOfRange</code> error or <code dir="ltr" translate="no">StopIteration</code> exception. If set,
<code dir="ltr" translate="no">steps</code> must be <code dir="ltr" translate="no">None</code>. If <code dir="ltr" translate="no">OutOfRange</code> or <code dir="ltr" translate="no">StopIteration</code> occurs in the
middle, training stops before <code dir="ltr" translate="no">max_steps</code> steps. Two calls to
<code dir="ltr" translate="no">train(steps=100)</code> means 200 training iterations. On the other hand, two
calls to <code dir="ltr" translate="no">train(max_steps=100)</code> means that the second call will not do
any iteration since first call did all 100 steps.</li>
<li><b><code dir="ltr" translate="no">saving_listeners</code></b>: list of <code dir="ltr" translate="no">CheckpointSaverListener</code> objects. Used for
callbacks that run immediately before or after checkpoint savings.</li>
</ul>
<h4 id="returns_9">Returns:</h4>
<p><code dir="ltr" translate="no">self</code>, for chaining.</p>
<h4 id="raises_9">Raises:</h4>
<ul>
<li><b><code dir="ltr" translate="no">ValueError</code></b>: If both <code dir="ltr" translate="no">steps</code> and <code dir="ltr" translate="no">max_steps</code> are not <code dir="ltr" translate="no">None</code>.</li>
<li><b><code dir="ltr" translate="no">ValueError</code></b>: If either <code dir="ltr" translate="no">steps</code> or <code dir="ltr" translate="no">max_steps &lt;= 0</code>.</li>
</ul>
</div>
<devsite-page-rating hover-rating-star="0" position="footer" selected-rating="0">
</devsite-page-rating>
</article>
</article>

</devsite-content>
</main>
<devsite-footer-promos class="devsite-footer">
</devsite-footer-promos>
<devsite-footer-linkboxes class="devsite-footer">

</devsite-footer-linkboxes>
<devsite-footer-utility class="devsite-footer">
<div class="devsite-footer-utility nocontent">

</div>
</devsite-footer-utility>
</section></section>
<devsite-sitemask></devsite-sitemask>
<devsite-snackbar></devsite-snackbar> <devsite-tooltip></devsite-tooltip>
<devsite-heading-link></devsite-heading-link>
<devsite-analytics>


</devsite-analytics>
 
</body></html>