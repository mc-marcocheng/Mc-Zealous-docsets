<!DOCTYPE html><html dir="ltr" lang="en"><head>
<meta content="157101835696-ooapojlodmuabs2do2vuhhnf90bccmoi.apps.googleusercontent.com" name="google-signin-client-id"/>
<meta content="profile email" name="google-signin-scope"/>
<meta content="TensorFlow" property="og:site_name"/>
<meta content="website" property="og:type"/>
<meta content="#ff6f00" name="theme-color"/>
<meta charset="utf-8"/>
<meta content="IE=Edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<link crossorigin="use-credentials" href="_pwa/tensorflow/manifest.json" rel="manifest"/>
<link crossorigin="" href="/www.gstatic.com" rel="preconnect"/>
<link crossorigin="" href="/fonts.gstatic.com" rel="preconnect"/>
<link crossorigin="" href="/fonts.googleapis.com" rel="preconnect"/>
<link href="../../../main.css" rel="stylesheet"/>

<noscript>

</noscript>
<link href="https://www.gstatic.com/devrel-devsite/prod/v3e2dbdc40e7394635e5230ecc02cb28039ea55a5d72db9939d2fb9fc9e16d0ff/tensorflow/images/favicon.png" rel="shortcut icon"/>
<link href="https://www.gstatic.com/devrel-devsite/prod/v3e2dbdc40e7394635e5230ecc02cb28039ea55a5d72db9939d2fb9fc9e16d0ff/tensorflow/images/apple-touch-icon-180x180.png" rel="apple-touch-icon"/><link href="https://www.tensorflow.org/api_docs/python/tf/Graph" rel="canonical"/><link href="https://www.tensorflow.org/s/opensearch.xml" rel="search" title="TensorFlow" type="application/opensearchdescription+xml"/>
<title>tf.Graph &nbsp;|&nbsp; TensorFlow Core v2.1.0</title>
<meta content="tf.Graph &nbsp;|&nbsp; TensorFlow Core v2.1.0" property="og:title"/>
<meta content="https://www.tensorflow.org/api_docs/python/tf/Graph" property="og:url"/>
<meta content="en" property="og:locale"/>

</head>
<body class="" layout="docs" pending="" theme="tensorflow-theme" type="reference">
<devsite-progress id="app-progress" type="indeterminate"></devsite-progress>
<section class="devsite-wrapper"> <devsite-book-nav scrollbars="">

</devsite-book-nav>
<section id="gc-wrapper">
<main class="devsite-main-content" has-book-nav="" has-toc="" role="main">
<devsite-toc class="devsite-nav"></devsite-toc>
<devsite-content>
<article class="devsite-article">
<article class="devsite-article-inner"><style>
        /* Styles inlined from /site-assets/css/style.css */
/* override theme */
table img {
  max-width: 100%;
}

/* override var element to differentiate color from comment */
var, var code, var span, .prettyprint var span {
  color: #039be5;
}

/* .devsite-terminal virtualenv prompt */
.tfo-terminal-venv::before {
  content: "(venv) $ " !important;
}

/* .devsite-terminal root prompt */
.tfo-terminal-root::before {
  content: "# " !important;
}

/* .devsite-terminal Windows prompt */
.tfo-terminal-windows::before {
  content: "C:\\> " !important;
}

/* .devsite-terminal Windows prompt w/ virtualenv */
.tfo-terminal-windows-venv::before {
  content: "(venv) C:\\> " !important;
}

.tfo-diff-green-one-level + * {
  background: rgba(175, 245, 162, .6)  !important;
}

.tfo-diff-green + * > * {
  background: rgba(175, 245, 162, .6)  !important;
}

.tfo-diff-green-list + ul > li:first-of-type {
  background: rgba(175, 245, 162, .6)  !important;
}

.tfo-diff-red-one-level + * {
  background: rgba(255, 230, 230, .6)  !important;
  text-decoration: line-through  !important;
}

.tfo-diff-red + * > * {
  background: rgba(255, 230, 230, .6)  !important;
  text-decoration: line-through  !important;
}

.tfo-diff-red-list + ul > li:first-of-type {
  background: rgba(255, 230, 230, .6)  !important;
  text-decoration: line-through  !important;
}

devsite-code .tfo-notebook-code-cell-output {
  max-height: 300px;
  overflow: auto;
  background: rgba(255, 247, 237, 1);  /* orange bg to distinguish from input code cells */
}

devsite-code .tfo-notebook-code-cell-output + .devsite-code-buttons-container button {
  background: rgba(255, 247, 237, .7);  /* orange bg to distinguish from input code cells */
}

devsite-code[dark-code] .tfo-notebook-code-cell-output {
  background: rgba(64, 78, 103, 1);  /* medium slate */
}

devsite-code[dark-code] .tfo-notebook-code-cell-output + .devsite-code-buttons-container button {
  background: rgba(64, 78, 103, .7);  /* medium slate */
}

/* override default table styles for notebook buttons */
.devsite-table-wrapper .tfo-notebook-buttons {
  display: inline-block;
  margin-left: 3px;
  width: auto;
}

.tfo-notebook-buttons td {
  padding-left: 0;
  padding-right: 20px;
}

.tfo-notebook-buttons a,
.tfo-notebook-buttons :link,
.tfo-notebook-buttons :visited {
  border-radius: 8px;
  box-shadow: 0 1px 2px 0 rgba(60, 64, 67, .3), 0 1px 3px 1px rgba(60, 64, 67, .15);
  color: #202124;
  padding: 12px 24px;
  transition: box-shadow 0.2s;
}

.tfo-notebook-buttons a:hover,
.tfo-notebook-buttons a:focus {
  box-shadow: 0 1px 2px 0 rgba(60, 64, 67, .3), 0 2px 6px 2px rgba(60, 64, 67, .15);
}

.tfo-notebook-buttons tr {
  background: 0;
  border: 0;
}

/* on rendered notebook page,
   remove link to webpage since we're already here */
.tfo-notebook-buttons:not(.tfo-api) td:first-child {
  display: none;
}

.tfo-notebook-buttons td > a {
  -webkit-box-align: center;
  -ms-flex-align: center;
  align-items: center;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
}

.tfo-notebook-buttons td > a > img {
  margin-right: 8px;
}

/* landing pages */

.tfo-landing-row-item-inset-white {
  background-color: #fff;
  padding: 32px;
}

.tfo-landing-row-item-inset-white ol,
.tfo-landing-row-item-inset-white ul {
  padding-left: 20px;
}

/* colab callout button */
.colab-callout-row devsite-code {
  border-radius: 8px 8px 0 0;
  box-shadow: none;
}

.colab-callout-footer {
  background: #e3e4e7;
  border-radius: 0 0 8px 8px;
  color: #37474f;
  padding: 20px;
}

.colab-callout-row devsite-code[dark-code] + .colab-callout-footer {
  background: #3f4f66;
}


.colab-callout-footer > .button {
  margin-top: 4px;
  color: #ff5c00;
}

.colab-callout-footer > a > span {
  padding-top: 10px;
  vertical-align: middle;
  color: #37474f;
  padding-left: 10px;
  padding-right: 10px;
  font-size: 14px;
}

.colab-callout-row devsite-code[dark-code] + .colab-callout-footer > a > span {
  color: #fff;
}

a.colab-button {
  background: rgba(255, 255, 255, .75);
  border: solid 1px rgba(0, 0, 0, .08);
  border-bottom-color: rgba(0, 0, 0, .15);
  border-radius: 4px;
  color: #aaa;
  display: inline-block;
  font-size: 11px !important;
  font-weight: 300;
  line-height: 16px;
  padding: 4px 8px;
  text-decoration: none;
  text-transform: uppercase;
}

a.colab-button:hover {
  background: white;
  border-color: rgba(0, 0, 0, .2);
  color: #666;
}

a.colab-button span {
  background: url(/images/colab_logo_button.svg) no-repeat 1px 1px / 20px;
  border-radius: 4px;
  display: inline-block;
  padding-left: 24px;
  text-decoration: none;
}

@media screen and (max-width: 600px) {
  .tfo-notebook-buttons td {
    display: block;
  }
}

/* guide and tutorials landing page cards and sections */

.tfo-landing-page-card {
  padding: 16px;
  box-shadow: 0 0 36px rgba(0,0,0,0.1);
  border-radius: 10px;
}

/* Page section headings */
.tfo-landing-page-heading h2, h2.tfo-landing-page-heading {
  font-family: "Google Sans", sans-serif;
  color: #425066;
  font-size: 30px;
  font-weight: 700;
  line-height: 40px;
}

/* Item title headings */
.tfo-landing-page-heading h3, h3.tfo-landing-page-heading,
.tfo-landing-page-card h3, h3.tfo-landing-page-card {
  font-family: "Google Sans", sans-serif;
  color: #425066;
  font-size: 20px;
  font-weight: 500;
  line-height: 26px;
}

/* List of tutorials notebooks for subsites */
.tfo-landing-page-resources-ul {
  padding-left: 15px
}

.tfo-landing-page-resources-ul > li {
  margin: 6px 0;
}

/* Temporary fix to hide product description in header on landing pages */
devsite-header .devsite-product-description {
  display: none;
}

        </style> <div class="devsite-banner devsite-banner-announcement">
<div class="devsite-banner-message">
<div class="devsite-banner-message-text">
            Missed TensorFlow Dev Summit? Check out the video playlist. <a class="button button-primary button-tfo-announcement" href="https://goo.gle/TFDS20AllSessions">Watch recordings</a>
</div>
</div>
</div>
<div class="devsite-article-meta">
<ul class="devsite-breadcrumb-list">
<li class="devsite-breadcrumb-item">
<a class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="1" href="">
            TensorFlow
      
  </a>
</li>
<li class="devsite-breadcrumb-item">
<div aria-hidden="true" class="devsite-breadcrumb-guillemet material-icons"></div>
<a class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="2" href="api">
            API
      
  </a>
</li>
<li class="devsite-breadcrumb-item">
<div aria-hidden="true" class="devsite-breadcrumb-guillemet material-icons"></div>
<a class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="3" href="api_docs">
            TensorFlow Core v2.1.0
      
  </a>
</li>
<li class="devsite-breadcrumb-item">
<div aria-hidden="true" class="devsite-breadcrumb-guillemet material-icons"></div>
<a class="devsite-breadcrumb-link gc-analytics-event" data-category="Site-Wide Custom Events" data-label="Breadcrumbs" data-value="4" href="api_docs/python/tf">
            Python
      
  </a>
</li>
</ul>
<devsite-page-rating hover-rating-star="0" position="header" selected-rating="0">
</devsite-page-rating>
</div>
<a class="dashingAutolink" name="autolink-6"></a><a class="dashAnchor" name="//apple_ref/cpp/Class/tf.Graph"></a><h1 class="dash-class">tf.Graph</h1>
<devsite-toc class="devsite-nav" devsite-toc-embedded="">
</devsite-toc>
<div class="devsite-article-body clearfix">
<p></p>
<!-- DO NOT EDIT! Automatically generated file. -->
<div itemscope="" itemtype="http://developers.google.com/ReferenceObject">
<meta content="tf.Graph" itemprop="name"/>
<meta content="Stable" itemprop="path"/>
<meta content="__init__" itemprop="property"/>
<meta content="add_to_collection" itemprop="property"/>
<meta content="add_to_collections" itemprop="property"/>
<meta content="as_default" itemprop="property"/>
<meta content="as_graph_def" itemprop="property"/>
<meta content="as_graph_element" itemprop="property"/>
<meta content="clear_collection" itemprop="property"/>
<meta content="colocate_with" itemprop="property"/>
<meta content="container" itemprop="property"/>
<meta content="control_dependencies" itemprop="property"/>
<meta content="create_op" itemprop="property"/>
<meta content="device" itemprop="property"/>
<meta content="finalize" itemprop="property"/>
<meta content="get_all_collection_keys" itemprop="property"/>
<meta content="get_collection" itemprop="property"/>
<meta content="get_collection_ref" itemprop="property"/>
<meta content="get_name_scope" itemprop="property"/>
<meta content="get_operation_by_name" itemprop="property"/>
<meta content="get_operations" itemprop="property"/>
<meta content="get_tensor_by_name" itemprop="property"/>
<meta content="gradient_override_map" itemprop="property"/>
<meta content="is_feedable" itemprop="property"/>
<meta content="is_fetchable" itemprop="property"/>
<meta content="name_scope" itemprop="property"/>
<meta content="prevent_feeding" itemprop="property"/>
<meta content="prevent_fetching" itemprop="property"/>
<meta content="switch_to_thread_local" itemprop="property"/>
<meta content="unique_name" itemprop="property"/>
</div>
<!-- Insert buttons and diff -->
<table align="left" class="tfo-notebook-buttons tfo-api">
<tbody><tr><td>
<a href="versions/r1.15/api_docs/python/tf/Graph" target="_blank">
<img src="https://www.tensorflow.org/images/tf_logo_32px.png"/>
  TensorFlow 1 version</a>
</td>
<td>
<a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/framework/ops.py#L2658-L5006" target="_blank">
<img src="https://www.tensorflow.org/images/GitHub-Mark-32px.png"/>
    View source on GitHub
  </a>
</td></tr></tbody></table>
<p>A TensorFlow computation, represented as a dataflow graph.</p>
<section class="expandable">
<h4 class="showalways">View aliases</h4>
<p>
<b>Compat aliases for migration</b>
</p><p>See
<a href="https://www.tensorflow.org/guide/migrate">Migration guide</a> for
more details.</p>
<p><a href="api_docs/python/tf/Graph"><code dir="ltr" translate="no">tf.compat.v1.Graph</code></a></p>
</section>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">tf.Graph()
</code></pre>
<!-- Placeholder for "Used in" -->
<p>Graphs are used by <a href="https://www.tensorflow.org/api_docs/python/tf/function"><code dir="ltr" translate="no">tf.function</code></a>s to represent the function&#39;s computations.
Each graph contains a set of <a href="https://www.tensorflow.org/api_docs/python/tf/Operation"><code dir="ltr" translate="no">tf.Operation</code></a> objects, which represent units of
computation; and <a href="https://www.tensorflow.org/api_docs/python/tf/Tensor"><code dir="ltr" translate="no">tf.Tensor</code></a> objects, which represent the units of data that
flow between operations.</p>
<h3 id="using_graphs_directly_deprecated">Using graphs directly (deprecated)</h3>
<p>A <a href="https://www.tensorflow.org/api_docs/python/tf/Graph"><code dir="ltr" translate="no">tf.Graph</code></a> can be constructed and used directly without a <a href="https://www.tensorflow.org/api_docs/python/tf/function"><code dir="ltr" translate="no">tf.function</code></a>, as
was required in TensorFlow 1, but this is deprecated and it is recommended to
use a <a href="https://www.tensorflow.org/api_docs/python/tf/function"><code dir="ltr" translate="no">tf.function</code></a> instead. If a graph is directly used, other deprecated
TensorFlow 1 classes are also required to execute the graph, such as a
<a href="https://www.tensorflow.org/api_docs/python/tf/compat/v1/Session"><code dir="ltr" translate="no">tf.compat.v1.Session</code></a>.</p>
<p>A default graph can be registered with the <a href="https://www.tensorflow.org/api_docs/python/tf/Graph#as_default"><code dir="ltr" translate="no">tf.Graph.as_default</code></a> context
manager. Then, operations will be added to the graph instead of being executed
eagerly. For example:</p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">g = tf.Graph()
with g.as_default():
  # Define operations and tensors in `g`.
  c = tf.constant(30.0)
  assert c.graph is g
</code></pre>
<p><a href="https://www.tensorflow.org/api_docs/python/tf/compat/v1/get_default_graph"><code dir="ltr" translate="no">tf.compat.v1.get_default_graph()</code></a> can be used to obtain the default graph.</p>
<p>Important note: This class <em>is not</em> thread-safe for graph construction. All
operations should be created from a single thread, or external
synchronization must be provided. Unless otherwise specified, all methods
are not thread-safe.</p>
<p>A <code dir="ltr" translate="no">Graph</code> instance supports an arbitrary number of &#34;collections&#34;
that are identified by name. For convenience when building a large
graph, collections can store groups of related objects: for
example, the <a href="https://www.tensorflow.org/api_docs/python/tf/Variable"><code dir="ltr" translate="no">tf.Variable</code></a> uses a collection (named
<code dir="ltr" translate="no">tf.GraphKeys.GLOBAL_VARIABLES</code>) for
all variables that are created during the construction of a graph. The caller
may define additional collections by specifying a new name.</p>
<h4 id="attributes">Attributes:</h4>
<ul>
<li><b><code dir="ltr" translate="no">building_function</code></b>:   Returns True iff this graph represents a function.</li>
<li><b><code dir="ltr" translate="no">collections</code></b>:   Returns the names of the collections known to this graph.</li>
<li><b><code dir="ltr" translate="no">finalized</code></b>:   True if this graph has been finalized.</li>
<li><p><b><code dir="ltr" translate="no">graph_def_versions</code></b>:   The GraphDef version information of this graph.</p>
<p>For details on the meaning of each version, see
<a href="https://www.tensorflow.org/code/tensorflow/core/framework/graph.proto"><code dir="ltr" translate="no">GraphDef</code></a>.</p></li>
<li><p><b><code dir="ltr" translate="no">seed</code></b>:   The graph-level random seed of this graph.</p></li>
<li><p><b><code dir="ltr" translate="no">version</code></b>:   Returns a version number that increases as ops are added to the graph.</p>
<p>Note that this is unrelated to the
<a href="https://www.tensorflow.org/api_docs/python/tf/Graph#graph_def_versions"><code dir="ltr" translate="no">tf.Graph.graph_def_versions</code></a>.</p></li>
</ul>
<h2 id="methods">Methods</h2>
<h3 id="add_to_collection"><code dir="ltr" translate="no">add_to_collection</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/framework/ops.py#L3767-L3783" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">add_to_collection(
    name, value
)
</code></pre>
<p>Stores <code dir="ltr" translate="no">value</code> in the collection with the given <code dir="ltr" translate="no">name</code>.</p>
<p>Note that collections are not sets, so it is possible to add a value to
a collection several times.</p>
<h4 id="args">Args:</h4>
<ul>
<li><b><code dir="ltr" translate="no">name</code></b>: The key for the collection. The <code dir="ltr" translate="no">GraphKeys</code> class contains many
standard names for collections.</li>
<li><b><code dir="ltr" translate="no">value</code></b>: The value to add to the collection.</li>
</ul>
<h3 id="add_to_collections"><code dir="ltr" translate="no">add_to_collections</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/framework/ops.py#L3785-L3804" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">add_to_collections(
    names, value
)
</code></pre>
<p>Stores <code dir="ltr" translate="no">value</code> in the collections given by <code dir="ltr" translate="no">names</code>.</p>
<p>Note that collections are not sets, so it is possible to add a value to
a collection several times. This function makes sure that duplicates in
<code dir="ltr" translate="no">names</code> are ignored, but it will not check for pre-existing membership of
<code dir="ltr" translate="no">value</code> in any of the collections in <code dir="ltr" translate="no">names</code>.</p>
<p><code dir="ltr" translate="no">names</code> can be any iterable, but if <code dir="ltr" translate="no">names</code> is a string, it is treated as a
single collection name.</p>
<h4 id="args_2">Args:</h4>
<ul>
<li><b><code dir="ltr" translate="no">names</code></b>: The keys for the collections to add to. The <code dir="ltr" translate="no">GraphKeys</code> class
contains many standard names for collections.</li>
<li><b><code dir="ltr" translate="no">value</code></b>: The value to add to the collections.</li>
</ul>
<h3 id="as_default"><code dir="ltr" translate="no">as_default</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/framework/ops.py#L3720-L3760" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">as_default()
</code></pre>
<p>Returns a context manager that makes this <code dir="ltr" translate="no">Graph</code> the default graph.</p>
<p>This method should be used if you want to create multiple graphs
in the same process. For convenience, a global default graph is
provided, and all ops will be added to this graph if you do not
create a new graph explicitly.</p>
<p>Use this method with the <code dir="ltr" translate="no">with</code> keyword to specify that ops created within
the scope of a block should be added to this graph. In this case, once
the scope of the <code dir="ltr" translate="no">with</code> is exited, the previous default graph is set again
as default. There is a stack, so it&#39;s ok to have multiple nested levels
of <code dir="ltr" translate="no">as_default</code> calls.</p>
<p>The default graph is a property of the current thread. If you
create a new thread, and wish to use the default graph in that
thread, you must explicitly add a <code dir="ltr" translate="no">with g.as_default():</code> in that
thread&#39;s function.</p>
<p>The following code examples are equivalent:</p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no"># 1. Using Graph.as_default():
g = tf.Graph()
with g.as_default():
  c = tf.constant(5.0)
  assert c.graph is g

# 2. Constructing and making default:
with tf.Graph().as_default() as g:
  c = tf.constant(5.0)
  assert c.graph is g
</code></pre>
<p>If eager execution is enabled ops created under this context manager will be
added to the graph instead of executed eagerly.</p>
<h4 id="returns">Returns:</h4>
<p>A context manager for using this graph as the default graph.</p>
<h3 id="as_graph_def"><code dir="ltr" translate="no">as_graph_def</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/framework/ops.py#L3108-L3135" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">as_graph_def(
    from_version=None, add_shapes=False
)
</code></pre>
<p>Returns a serialized <code dir="ltr" translate="no">GraphDef</code> representation of this graph.</p>
<p>The serialized <code dir="ltr" translate="no">GraphDef</code> can be imported into another <code dir="ltr" translate="no">Graph</code>
(using <a href="https://www.tensorflow.org/api_docs/python/tf/graph_util/import_graph_def"><code dir="ltr" translate="no">tf.import_graph_def</code></a>) or used with the
<a href="https://www.tensorflow.org/api_docs/api_docs/cc/index">C++ Session API</a>.</p>
<p>This method is thread-safe.</p>
<h4 id="args_3">Args:</h4>
<ul>
<li><b><code dir="ltr" translate="no">from_version</code></b>: Optional.  If this is set, returns a <code dir="ltr" translate="no">GraphDef</code> containing
only the nodes that were added to this graph since its <code dir="ltr" translate="no">version</code>
property had the given value.</li>
<li><b><code dir="ltr" translate="no">add_shapes</code></b>: If true, adds an &#34;_output_shapes&#34; list attr to each node with
the inferred shapes of each of its outputs.</li>
</ul>
<h4 id="returns_2">Returns:</h4>
<p>A
<a href="https://www.tensorflow.org/code/tensorflow/core/framework/graph.proto"><code dir="ltr" translate="no">GraphDef</code></a>
protocol buffer.</p>
<h4 id="raises">Raises:</h4>
<ul>
<li><b><code dir="ltr" translate="no">ValueError</code></b>: If the <code dir="ltr" translate="no">graph_def</code> would be too large.</li>
</ul>
<h3 id="as_graph_element"><code dir="ltr" translate="no">as_graph_element</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/framework/ops.py#L3471-L3505" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">as_graph_element(
    obj, allow_tensor=True, allow_operation=True
)
</code></pre>
<p>Returns the object referred to by <code dir="ltr" translate="no">obj</code>, as an <code dir="ltr" translate="no">Operation</code> or <code dir="ltr" translate="no">Tensor</code>.</p>
<p>This function validates that <code dir="ltr" translate="no">obj</code> represents an element of this
graph, and gives an informative error message if it is not.</p>
<p>This function is the canonical way to get/validate an object of
one of the allowed types from an external argument reference in the
Session API.</p>
<p>This method may be called concurrently from multiple threads.</p>
<h4 id="args_4">Args:</h4>
<ul>
<li><b><code dir="ltr" translate="no">obj</code></b>: A <code dir="ltr" translate="no">Tensor</code>, an <code dir="ltr" translate="no">Operation</code>, or the name of a tensor or operation. Can
also be any object with an <code dir="ltr" translate="no">_as_graph_element()</code> method that returns a
value of one of these types. Note: <code dir="ltr" translate="no">_as_graph_element</code> will be called
inside the graph&#39;s lock and so may not modify the graph.</li>
<li><b><code dir="ltr" translate="no">allow_tensor</code></b>: If true, <code dir="ltr" translate="no">obj</code> may refer to a <code dir="ltr" translate="no">Tensor</code>.</li>
<li><b><code dir="ltr" translate="no">allow_operation</code></b>: If true, <code dir="ltr" translate="no">obj</code> may refer to an <code dir="ltr" translate="no">Operation</code>.</li>
</ul>
<h4 id="returns_3">Returns:</h4>
<p>The <code dir="ltr" translate="no">Tensor</code> or <code dir="ltr" translate="no">Operation</code> in the Graph corresponding to <code dir="ltr" translate="no">obj</code>.</p>
<h4 id="raises_2">Raises:</h4>
<ul>
<li><b><code dir="ltr" translate="no">TypeError</code></b>: If <code dir="ltr" translate="no">obj</code> is not a type we support attempting to convert
to types.</li>
<li><b><code dir="ltr" translate="no">ValueError</code></b>: If <code dir="ltr" translate="no">obj</code> is of an appropriate type but invalid. For
example, an invalid string.</li>
<li><b><code dir="ltr" translate="no">KeyError</code></b>: If <code dir="ltr" translate="no">obj</code> is not an object in the graph.</li>
</ul>
<h3 id="clear_collection"><code dir="ltr" translate="no">clear_collection</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/framework/ops.py#L3876-L3886" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">clear_collection(
    name
)
</code></pre>
<p>Clears all values in a collection.</p>
<h4 id="args_5">Args:</h4>
<ul>
<li><b><code dir="ltr" translate="no">name</code></b>: The key for the collection. The <code dir="ltr" translate="no">GraphKeys</code> class contains many
standard names for collections.</li>
</ul>
<h3 id="colocate_with"><code dir="ltr" translate="no">colocate_with</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/framework/ops.py#L4122-L4193" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">@contextmanager
colocate_with(
    op, ignore_existing=False
)
</code></pre>
<p>Returns a context manager that specifies an op to colocate with.</p>
<aside class="note"><strong>Note:</strong><span> this function is not for public use, only for internal libraries.</span></aside>
<h4 id="for_example">For example:</h4>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">a = tf.Variable([1.0])
with g.colocate_with(a):
  b = tf.constant(1.0)
  c = tf.add(a, b)
</code></pre>
<p><code dir="ltr" translate="no">b</code> and <code dir="ltr" translate="no">c</code> will always be colocated with <code dir="ltr" translate="no">a</code>, no matter where <code dir="ltr" translate="no">a</code>
is eventually placed.</p>
<p><strong>NOTE</strong> Using a colocation scope resets any existing device constraints.</p>
<p>If <code dir="ltr" translate="no">op</code> is <code dir="ltr" translate="no">None</code> then <code dir="ltr" translate="no">ignore_existing</code> must be <code dir="ltr" translate="no">True</code> and the new
scope resets all colocation and device constraints.</p>
<h4 id="args_6">Args:</h4>
<ul>
<li><b><code dir="ltr" translate="no">op</code></b>: The op to colocate all created ops with, or <code dir="ltr" translate="no">None</code>.</li>
<li><b><code dir="ltr" translate="no">ignore_existing</code></b>: If true, only applies colocation of this op within the
context, rather than applying all colocation properties on the stack.
If <code dir="ltr" translate="no">op</code> is <code dir="ltr" translate="no">None</code>, this value must be <code dir="ltr" translate="no">True</code>.</li>
</ul>
<h4 id="raises_3">Raises:</h4>
<ul>
<li><b><code dir="ltr" translate="no">ValueError</code></b>: if op is None but ignore_existing is False.</li>
</ul>
<h4 id="yields">Yields:</h4>
<p>A context manager that specifies the op with which to colocate
newly created ops.</p>
<h3 id="container"><code dir="ltr" translate="no">container</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/framework/ops.py#L4299-L4349" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">@contextmanager
container(
    container_name
)
</code></pre>
<p>Returns a context manager that specifies the resource container to use.</p>
<p>Stateful operations, such as variables and queues, can maintain their
states on devices so that they can be shared by multiple processes.
A resource container is a string name under which these stateful
operations are tracked. These resources can be released or cleared
with <code dir="ltr" translate="no">tf.Session.reset()</code>.</p>
<h4 id="for_example_2">For example:</h4>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">with g.container(&#39;experiment0&#39;):
  # All stateful Operations constructed in this context will be placed
  # in resource container &#34;experiment0&#34;.
  v1 = tf.Variable([1.0])
  v2 = tf.Variable([2.0])
  with g.container(&#34;experiment1&#34;):
    # All stateful Operations constructed in this context will be
    # placed in resource container &#34;experiment1&#34;.
    v3 = tf.Variable([3.0])
    q1 = tf.queue.FIFOQueue(10, tf.float32)
  # All stateful Operations constructed in this context will be
  # be created in the &#34;experiment0&#34;.
  v4 = tf.Variable([4.0])
  q1 = tf.queue.FIFOQueue(20, tf.float32)
  with g.container(&#34;&#34;):
    # All stateful Operations constructed in this context will be
    # be placed in the default resource container.
    v5 = tf.Variable([5.0])
    q3 = tf.queue.FIFOQueue(30, tf.float32)

# Resets container &#34;experiment0&#34;, after which the state of v1, v2, v4, q1
# will become undefined (such as uninitialized).
tf.Session.reset(target, [&#34;experiment0&#34;])
</code></pre>
<h4 id="args_7">Args:</h4>
<ul>
<li><b><code dir="ltr" translate="no">container_name</code></b>: container name string.</li>
</ul>
<h4 id="returns_4">Returns:</h4>
<p>A context manager for defining resource containers for stateful ops,
  yields the container name.</p>
<h3 id="control_dependencies"><code dir="ltr" translate="no">control_dependencies</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/framework/ops.py#L4480-L4591" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">control_dependencies(
    control_inputs
)
</code></pre>
<p>Returns a context manager that specifies control dependencies.</p>
<p>Use with the <code dir="ltr" translate="no">with</code> keyword to specify that all operations constructed
within the context should have control dependencies on
<code dir="ltr" translate="no">control_inputs</code>. For example:</p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">with g.control_dependencies([a, b, c]):
  # `d` and `e` will only run after `a`, `b`, and `c` have executed.
  d = ...
  e = ...
</code></pre>
<p>Multiple calls to <code dir="ltr" translate="no">control_dependencies()</code> can be nested, and in
that case a new <code dir="ltr" translate="no">Operation</code> will have control dependencies on the union
of <code dir="ltr" translate="no">control_inputs</code> from all active contexts.</p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">with g.control_dependencies([a, b]):
  # Ops constructed here run after `a` and `b`.
  with g.control_dependencies([c, d]):
    # Ops constructed here run after `a`, `b`, `c`, and `d`.
</code></pre>
<p>You can pass None to clear the control dependencies:</p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">with g.control_dependencies([a, b]):
  # Ops constructed here run after `a` and `b`.
  with g.control_dependencies(None):
    # Ops constructed here run normally, not waiting for either `a` or `b`.
    with g.control_dependencies([c, d]):
      # Ops constructed here run after `c` and `d`, also not waiting
      # for either `a` or `b`.
</code></pre>
<p><em>N.B.</em> The control dependencies context applies <em>only</em> to ops that
are constructed within the context. Merely using an op or tensor
in the context does not add a control dependency. The following
example illustrates this point:</p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no"># WRONG
def my_func(pred, tensor):
  t = tf.matmul(tensor, tensor)
  with tf.control_dependencies([pred]):
    # The matmul op is created outside the context, so no control
    # dependency will be added.
    return t

# RIGHT
def my_func(pred, tensor):
  with tf.control_dependencies([pred]):
    # The matmul op is created in the context, so a control dependency
    # will be added.
    return tf.matmul(tensor, tensor)
</code></pre>
<p>Also note that though execution of ops created under this scope will trigger
execution of the dependencies, the ops created under this scope might still
be pruned from a normal tensorflow graph. For example, in the following
snippet of code the dependencies are never executed:</p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">  loss = model.loss()
  with tf.control_dependencies(dependencies):
    loss = loss + tf.constant(1)  # note: dependencies ignored in the
                                  # backward pass
  return tf.gradients(loss, model.variables)
</code></pre>
<p>This is because evaluating the gradient graph does not require evaluating
the constant(1) op created in the forward pass.</p>
<h4 id="args_8">Args:</h4>
<ul>
<li><b><code dir="ltr" translate="no">control_inputs</code></b>: A list of <code dir="ltr" translate="no">Operation</code> or <code dir="ltr" translate="no">Tensor</code> objects which must be
executed or computed before running the operations defined in the
context.  Can also be <code dir="ltr" translate="no">None</code> to clear the control dependencies.</li>
</ul>
<h4 id="returns_5">Returns:</h4>
<p>A context manager that specifies control dependencies for all
operations constructed within the context.</p>
<h4 id="raises_4">Raises:</h4>
<ul>
<li><b><code dir="ltr" translate="no">TypeError</code></b>: If <code dir="ltr" translate="no">control_inputs</code> is not a list of <code dir="ltr" translate="no">Operation</code> or
<code dir="ltr" translate="no">Tensor</code> objects.</li>
</ul>
<h3 id="create_op"><code dir="ltr" translate="no">create_op</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/framework/ops.py#L3197-L3253" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">create_op(
    op_type, inputs, dtypes=None, input_types=None, name=None, attrs=None,
    op_def=None, compute_shapes=True, compute_device=True
)
</code></pre>
<p>Creates an <code dir="ltr" translate="no">Operation</code> in this graph. (deprecated arguments)</p>
<aside class="warning"><strong>Warning:</strong><span> SOME ARGUMENTS ARE DEPRECATED: <code dir="ltr" translate="no">(compute_shapes)</code>. They will be removed in a future version.
Instructions for updating:
Shapes are always computed; don&#39;t use the compute_shapes as it has no effect.</span></aside>
<p>This is a low-level interface for creating an <code dir="ltr" translate="no">Operation</code>. Most
programs will not call this method directly, and instead use the
Python op constructors, such as <a href="https://www.tensorflow.org/api_docs/python/tf/constant"><code dir="ltr" translate="no">tf.constant()</code></a>, which add ops to
the default graph.</p>
<h4 id="args_9">Args:</h4>
<ul>
<li><b><code dir="ltr" translate="no">op_type</code></b>: The <code dir="ltr" translate="no">Operation</code> type to create. This corresponds to the
<code dir="ltr" translate="no">OpDef.name</code> field for the proto that defines the operation.</li>
<li><b><code dir="ltr" translate="no">inputs</code></b>: A list of <code dir="ltr" translate="no">Tensor</code> objects that will be inputs to the <code dir="ltr" translate="no">Operation</code>.</li>
<li><b><code dir="ltr" translate="no">dtypes</code></b>: (Optional) A list of <code dir="ltr" translate="no">DType</code> objects that will be the types of the
tensors that the operation produces.</li>
<li><b><code dir="ltr" translate="no">input_types</code></b>: (Optional.) A list of <code dir="ltr" translate="no">DType</code>s that will be the types of the
tensors that the operation consumes. By default, uses the base <code dir="ltr" translate="no">DType</code>
of each input in <code dir="ltr" translate="no">inputs</code>. Operations that expect reference-typed inputs
must specify <code dir="ltr" translate="no">input_types</code> explicitly.</li>
<li><b><code dir="ltr" translate="no">name</code></b>: (Optional.) A string name for the operation. If not specified, a
name is generated based on <code dir="ltr" translate="no">op_type</code>.</li>
<li><b><code dir="ltr" translate="no">attrs</code></b>: (Optional.) A dictionary where the key is the attribute name (a
string) and the value is the respective <code dir="ltr" translate="no">attr</code> attribute of the
<code dir="ltr" translate="no">NodeDef</code> proto that will represent the operation (an <code dir="ltr" translate="no">AttrValue</code>
proto).</li>
<li><b><code dir="ltr" translate="no">op_def</code></b>: (Optional.) The <code dir="ltr" translate="no">OpDef</code> proto that describes the <code dir="ltr" translate="no">op_type</code> that
the operation will have.</li>
<li><b><code dir="ltr" translate="no">compute_shapes</code></b>: (Optional.) Deprecated. Has no effect (shapes are always
computed).</li>
<li><b><code dir="ltr" translate="no">compute_device</code></b>: (Optional.) If True, device functions will be executed to
compute the device property of the Operation.</li>
</ul>
<h4 id="raises_5">Raises:</h4>
<ul>
<li><b><code dir="ltr" translate="no">TypeError</code></b>: if any of the inputs is not a <code dir="ltr" translate="no">Tensor</code>.</li>
<li><b><code dir="ltr" translate="no">ValueError</code></b>: if colocation conflicts with existing device assignment.</li>
</ul>
<h4 id="returns_6">Returns:</h4>
<p>An <code dir="ltr" translate="no">Operation</code> object.</p>
<h3 id="device"><code dir="ltr" translate="no">device</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/framework/ops.py#L4202-L4271" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">@contextmanager
device(
    device_name_or_function
)
</code></pre>
<p>Returns a context manager that specifies the default device to use.</p>
<p>The <code dir="ltr" translate="no">device_name_or_function</code> argument may either be a device name
string, a device function, or None:</p>
<ul>
<li>If it is a device name string, all operations constructed in
this context will be assigned to the device with that name, unless
overridden by a nested <code dir="ltr" translate="no">device()</code> context.</li>
<li>If it is a function, it will be treated as a function from
Operation objects to device name strings, and invoked each time
a new Operation is created. The Operation will be assigned to
the device with the returned name.</li>
<li>If it is None, all <code dir="ltr" translate="no">device()</code> invocations from the enclosing context
will be ignored.</li>
</ul>
<p>For information about the valid syntax of device name strings, see
the documentation in
<a href="https://www.tensorflow.org/code/tensorflow/core/util/device_name_utils.h"><code dir="ltr" translate="no">DeviceNameUtils</code></a>.</p>
<h4 id="for_example_3">For example:</h4>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">with g.device(&#39;/device:GPU:0&#39;):
  # All operations constructed in this context will be placed
  # on GPU 0.
  with g.device(None):
    # All operations constructed in this context will have no
    # assigned device.

# Defines a function from `Operation` to device string.
def matmul_on_gpu(n):
  if n.type == &#34;MatMul&#34;:
    return &#34;/device:GPU:0&#34;
  else:
    return &#34;/cpu:0&#34;

with g.device(matmul_on_gpu):
  # All operations of type &#34;MatMul&#34; constructed in this context
  # will be placed on GPU 0; all other operations will be placed
  # on CPU 0.
</code></pre>
<p><strong>N.B.</strong> The device scope may be overridden by op wrappers or
other library code. For example, a variable assignment op
<code dir="ltr" translate="no">v.assign()</code> must be colocated with the <a href="https://www.tensorflow.org/api_docs/python/tf/Variable"><code dir="ltr" translate="no">tf.Variable</code></a> <code dir="ltr" translate="no">v</code>, and
incompatible device scopes will be ignored.</p>
<h4 id="args_10">Args:</h4>
<ul>
<li><b><code dir="ltr" translate="no">device_name_or_function</code></b>: The device name or function to use in the
context.</li>
</ul>
<h4 id="yields_2">Yields:</h4>
<p>A context manager that specifies the default device to use for newly
created ops.</p>
<h4 id="raises_6">Raises:</h4>
<ul>
<li><b><code dir="ltr" translate="no">RuntimeError</code></b>: If device scopes are not properly nested.</li>
</ul>
<h3 id="finalize"><code dir="ltr" translate="no">finalize</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/framework/ops.py#L2966-L2974" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">finalize()
</code></pre>
<p>Finalizes this graph, making it read-only.</p>
<p>After calling <code dir="ltr" translate="no">g.finalize()</code>, no new operations can be added to
<code dir="ltr" translate="no">g</code>.  This method is used to ensure that no operations are added
to a graph when it is shared between multiple threads, for example
when using a <a href="https://www.tensorflow.org/api_docs/python/tf/compat/v1/train/QueueRunner"><code dir="ltr" translate="no">tf.compat.v1.train.QueueRunner</code></a>.</p>
<h3 id="get_all_collection_keys"><code dir="ltr" translate="no">get_all_collection_keys</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/framework/ops.py#L3871-L3874" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">get_all_collection_keys()
</code></pre>
<p>Returns a list of collections used in this graph.</p>
<h3 id="get_collection"><code dir="ltr" translate="no">get_collection</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/framework/ops.py#L3831-L3869" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">get_collection(
    name, scope=None
)
</code></pre>
<p>Returns a list of values in the collection with the given <code dir="ltr" translate="no">name</code>.</p>
<p>This is different from <code dir="ltr" translate="no">get_collection_ref()</code> which always returns the
actual collection list if it exists in that it returns a new list each time
it is called.</p>
<h4 id="args_11">Args:</h4>
<ul>
<li><b><code dir="ltr" translate="no">name</code></b>: The key for the collection. For example, the <code dir="ltr" translate="no">GraphKeys</code> class
contains many standard names for collections.</li>
<li><b><code dir="ltr" translate="no">scope</code></b>: (Optional.) A string. If supplied, the resulting list is filtered
to include only items whose <code dir="ltr" translate="no">name</code> attribute matches <code dir="ltr" translate="no">scope</code> using
<code dir="ltr" translate="no">re.match</code>. Items without a <code dir="ltr" translate="no">name</code> attribute are never returned if a
scope is supplied. The choice of <code dir="ltr" translate="no">re.match</code> means that a <code dir="ltr" translate="no">scope</code> without
special tokens filters by prefix.</li>
</ul>
<h4 id="returns_7">Returns:</h4>
<p>The list of values in the collection with the given <code dir="ltr" translate="no">name</code>, or
an empty list if no value has been added to that collection. The
list contains the values in the order under which they were
collected.</p>
<h3 id="get_collection_ref"><code dir="ltr" translate="no">get_collection_ref</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/framework/ops.py#L3806-L3829" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">get_collection_ref(
    name
)
</code></pre>
<p>Returns a list of values in the collection with the given <code dir="ltr" translate="no">name</code>.</p>
<p>If the collection exists, this returns the list itself, which can
be modified in place to change the collection.  If the collection does
not exist, it is created as an empty list and the list is returned.</p>
<p>This is different from <code dir="ltr" translate="no">get_collection()</code> which always returns a copy of
the collection list if it exists and never creates an empty collection.</p>
<h4 id="args_12">Args:</h4>
<ul>
<li><b><code dir="ltr" translate="no">name</code></b>: The key for the collection. For example, the <code dir="ltr" translate="no">GraphKeys</code> class
contains many standard names for collections.</li>
</ul>
<h4 id="returns_8">Returns:</h4>
<p>The list of values in the collection with the given <code dir="ltr" translate="no">name</code>, or an empty
list if no value has been added to that collection.</p>
<h3 id="get_name_scope"><code dir="ltr" translate="no">get_name_scope</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/framework/ops.py#L4092-L4107" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">get_name_scope()
</code></pre>
<p>Returns the current name scope.</p>
<h4 id="for_example_4">For example:</h4>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">with tf.name_scope(&#39;scope1&#39;):
  with tf.name_scope(&#39;scope2&#39;):
    print(tf.compat.v1.get_default_graph().get_name_scope())
</code></pre>
<p>would print the string <code dir="ltr" translate="no">scope1/scope2</code>.</p>
<h4 id="returns_9">Returns:</h4>
<p>A string representing the current name scope.</p>
<h3 id="get_operation_by_name"><code dir="ltr" translate="no">get_operation_by_name</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/framework/ops.py#L3614-L3633" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">get_operation_by_name(
    name
)
</code></pre>
<p>Returns the <code dir="ltr" translate="no">Operation</code> with the given <code dir="ltr" translate="no">name</code>.</p>
<p>This method may be called concurrently from multiple threads.</p>
<h4 id="args_13">Args:</h4>
<ul>
<li><b><code dir="ltr" translate="no">name</code></b>: The name of the <code dir="ltr" translate="no">Operation</code> to return.</li>
</ul>
<h4 id="returns_10">Returns:</h4>
<p>The <code dir="ltr" translate="no">Operation</code> with the given <code dir="ltr" translate="no">name</code>.</p>
<h4 id="raises_7">Raises:</h4>
<ul>
<li><b><code dir="ltr" translate="no">TypeError</code></b>: If <code dir="ltr" translate="no">name</code> is not a string.</li>
<li><b><code dir="ltr" translate="no">KeyError</code></b>: If <code dir="ltr" translate="no">name</code> does not correspond to an operation in this graph.</li>
</ul>
<h3 id="get_operations"><code dir="ltr" translate="no">get_operations</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/framework/ops.py#L3596-L3612" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">get_operations()
</code></pre>
<p>Return the list of operations in the graph.</p>
<p>You can modify the operations in place, but modifications
to the list such as inserts/delete have no effect on the
list of operations known to the graph.</p>
<p>This method may be called concurrently from multiple threads.</p>
<h4 id="returns_11">Returns:</h4>
<p>A list of Operations.</p>
<h3 id="get_tensor_by_name"><code dir="ltr" translate="no">get_tensor_by_name</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/framework/ops.py#L3662-L3681" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">get_tensor_by_name(
    name
)
</code></pre>
<p>Returns the <code dir="ltr" translate="no">Tensor</code> with the given <code dir="ltr" translate="no">name</code>.</p>
<p>This method may be called concurrently from multiple threads.</p>
<h4 id="args_14">Args:</h4>
<ul>
<li><b><code dir="ltr" translate="no">name</code></b>: The name of the <code dir="ltr" translate="no">Tensor</code> to return.</li>
</ul>
<h4 id="returns_12">Returns:</h4>
<p>The <code dir="ltr" translate="no">Tensor</code> with the given <code dir="ltr" translate="no">name</code>.</p>
<h4 id="raises_8">Raises:</h4>
<ul>
<li><b><code dir="ltr" translate="no">TypeError</code></b>: If <code dir="ltr" translate="no">name</code> is not a string.</li>
<li><b><code dir="ltr" translate="no">KeyError</code></b>: If <code dir="ltr" translate="no">name</code> does not correspond to a tensor in this graph.</li>
</ul>
<h3 id="gradient_override_map"><code dir="ltr" translate="no">gradient_override_map</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/framework/ops.py#L4733-L4792" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">@contextmanager
gradient_override_map(
    op_type_map
)
</code></pre>
<p>EXPERIMENTAL: A context manager for overriding gradient functions.</p>
<p>This context manager can be used to override the gradient function
that will be used for ops within the scope of the context.</p>
<h4 id="for_example_5">For example:</h4>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">@tf.RegisterGradient(&#34;CustomSquare&#34;)
def _custom_square_grad(op, grad):
  # ...

with tf.Graph().as_default() as g:
  c = tf.constant(5.0)
  s_1 = tf.square(c)  # Uses the default gradient for tf.square.
  with g.gradient_override_map({&#34;Square&#34;: &#34;CustomSquare&#34;}):
    s_2 = tf.square(s_2)  # Uses _custom_square_grad to compute the
                          # gradient of s_2.
</code></pre>
<h4 id="args_15">Args:</h4>
<ul>
<li><b><code dir="ltr" translate="no">op_type_map</code></b>: A dictionary mapping op type strings to alternative op type
strings.</li>
</ul>
<h4 id="returns_13">Returns:</h4>
<p>A context manager that sets the alternative op type to be used for one
or more ops created in that context.</p>
<h4 id="raises_9">Raises:</h4>
<ul>
<li><b><code dir="ltr" translate="no">TypeError</code></b>: If <code dir="ltr" translate="no">op_type_map</code> is not a dictionary mapping strings to
strings.</li>
</ul>
<h3 id="is_feedable"><code dir="ltr" translate="no">is_feedable</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/framework/ops.py#L4800-L4802" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">is_feedable(
    tensor
)
</code></pre>
<p>Returns <code dir="ltr" translate="no">True</code> if and only if <code dir="ltr" translate="no">tensor</code> is feedable.</p>
<h3 id="is_fetchable"><code dir="ltr" translate="no">is_fetchable</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/framework/ops.py#L4808-L4813" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">is_fetchable(
    tensor_or_op
)
</code></pre>
<p>Returns <code dir="ltr" translate="no">True</code> if and only if <code dir="ltr" translate="no">tensor_or_op</code> is fetchable.</p>
<h3 id="name_scope"><code dir="ltr" translate="no">name_scope</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/framework/ops.py#L3925-L4036" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">@contextmanager
name_scope(
    name
)
</code></pre>
<p>Returns a context manager that creates hierarchical names for operations.</p>
<p>A graph maintains a stack of name scopes. A <code dir="ltr" translate="no">with name_scope(...):</code>
statement pushes a new name onto the stack for the lifetime of the context.</p>
<p>The <code dir="ltr" translate="no">name</code> argument will be interpreted as follows:</p>
<ul>
<li>A string (not ending with &#39;/&#39;) will create a new name scope, in which
<code dir="ltr" translate="no">name</code> is appended to the prefix of all operations created in the
context. If <code dir="ltr" translate="no">name</code> has been used before, it will be made unique by
calling <code dir="ltr" translate="no">self.unique_name(name)</code>.</li>
<li>A scope previously captured from a <code dir="ltr" translate="no">with g.name_scope(...) as
scope:</code> statement will be treated as an &#34;absolute&#34; name scope, which
makes it possible to re-enter existing scopes.</li>
<li>A value of <code dir="ltr" translate="no">None</code> or the empty string will reset the current name scope
to the top-level (empty) name scope.</li>
</ul>
<h4 id="for_example_6">For example:</h4>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">with tf.Graph().as_default() as g:
  c = tf.constant(5.0, name=&#34;c&#34;)
  assert c.op.name == &#34;c&#34;
  c_1 = tf.constant(6.0, name=&#34;c&#34;)
  assert c_1.op.name == &#34;c_1&#34;

  # Creates a scope called &#34;nested&#34;
  with g.name_scope(&#34;nested&#34;) as scope:
    nested_c = tf.constant(10.0, name=&#34;c&#34;)
    assert nested_c.op.name == &#34;nested/c&#34;

    # Creates a nested scope called &#34;inner&#34;.
    with g.name_scope(&#34;inner&#34;):
      nested_inner_c = tf.constant(20.0, name=&#34;c&#34;)
      assert nested_inner_c.op.name == &#34;nested/inner/c&#34;

    # Create a nested scope called &#34;inner_1&#34;.
    with g.name_scope(&#34;inner&#34;):
      nested_inner_1_c = tf.constant(30.0, name=&#34;c&#34;)
      assert nested_inner_1_c.op.name == &#34;nested/inner_1/c&#34;

      # Treats `scope` as an absolute name scope, and
      # switches to the &#34;nested/&#34; scope.
      with g.name_scope(scope):
        nested_d = tf.constant(40.0, name=&#34;d&#34;)
        assert nested_d.op.name == &#34;nested/d&#34;

        with g.name_scope(&#34;&#34;):
          e = tf.constant(50.0, name=&#34;e&#34;)
          assert e.op.name == &#34;e&#34;
</code></pre>
<p>The name of the scope itself can be captured by <code dir="ltr" translate="no">with
g.name_scope(...) as scope:</code>, which stores the name of the scope
in the variable <code dir="ltr" translate="no">scope</code>. This value can be used to name an
operation that represents the overall result of executing the ops
in a scope. For example:</p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">inputs = tf.constant(...)
with g.name_scope(&#39;my_layer&#39;) as scope:
  weights = tf.Variable(..., name=&#34;weights&#34;)
  biases = tf.Variable(..., name=&#34;biases&#34;)
  affine = tf.matmul(inputs, weights) + biases
  output = tf.nn.relu(affine, name=scope)
</code></pre>
<p>NOTE: This constructor validates the given <code dir="ltr" translate="no">name</code>. Valid scope
names match one of the following regular expressions:</p>
<pre class="prettyprint" dir="ltr" translate="no"><code dir="ltr" translate="no">[A-Za-z0-9.][A-Za-z0-9_.\-/]* (for scopes at the root)
[A-Za-z0-9_.\-/]* (for other scopes)
</code></pre>
<h4 id="args_16">Args:</h4>
<ul>
<li><b><code dir="ltr" translate="no">name</code></b>: A name for the scope.</li>
</ul>
<h4 id="returns_14">Returns:</h4>
<p>A context manager that installs <code dir="ltr" translate="no">name</code> as a new name scope.</p>
<h4 id="raises_10">Raises:</h4>
<ul>
<li><b><code dir="ltr" translate="no">ValueError</code></b>: If <code dir="ltr" translate="no">name</code> is not a valid scope name, according to the rules
above.</li>
</ul>
<h3 id="prevent_feeding"><code dir="ltr" translate="no">prevent_feeding</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/framework/ops.py#L4796-L4798" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">prevent_feeding(
    tensor
)
</code></pre>
<p>Marks the given <code dir="ltr" translate="no">tensor</code> as unfeedable in this graph.</p>
<h3 id="prevent_fetching"><code dir="ltr" translate="no">prevent_fetching</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/framework/ops.py#L4804-L4806" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">prevent_fetching(
    op
)
</code></pre>
<p>Marks the given <code dir="ltr" translate="no">op</code> as unfetchable in this graph.</p>
<h3 id="switch_to_thread_local"><code dir="ltr" translate="no">switch_to_thread_local</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/framework/ops.py#L4815-L4830" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">switch_to_thread_local()
</code></pre>
<p>Make device, colocation and dependencies stacks thread-local.</p>
<p>Device, colocation and dependencies stacks are not thread-local be default.
If multiple threads access them, then the state is shared.  This means that
one thread may affect the behavior of another thread.</p>
<p>After this method is called, the stacks become thread-local.  If multiple
threads access them, then the state is not shared.  Each thread uses its own
value; a thread doesn&#39;t affect other threads by mutating such a stack.</p>
<p>The initial value for every thread&#39;s stack is set to the current value
of the stack when <code dir="ltr" translate="no">switch_to_thread_local()</code> was first called.</p>
<h3 id="unique_name"><code dir="ltr" translate="no">unique_name</code></h3>
<p><a href="https://github.com/tensorflow/tensorflow/blob/v2.1.0/tensorflow/python/framework/ops.py#L4040-L4090" target="_blank">View source</a></p>
<pre class="prettyprint lang-python" dir="ltr" translate="no"><code dir="ltr" translate="no">unique_name(
    name, mark_as_used=True
)
</code></pre>
<p>Return a unique operation name for <code dir="ltr" translate="no">name</code>.</p>
<aside class="note"><strong>Note:</strong><span> You rarely need to call <code dir="ltr" translate="no">unique_name()</code> directly.  Most of
the time you just need to create <code dir="ltr" translate="no">with g.name_scope()</code> blocks to
generate structured names.</span></aside>
<p><code dir="ltr" translate="no">unique_name</code> is used to generate structured names, separated by
<code dir="ltr" translate="no">&#34;/&#34;</code>, to help identify operations when debugging a graph.
Operation names are displayed in error messages reported by the
TensorFlow runtime, and in various visualization tools such as
TensorBoard.</p>
<p>If <code dir="ltr" translate="no">mark_as_used</code> is set to <code dir="ltr" translate="no">True</code>, which is the default, a new
unique name is created and marked as in use. If it&#39;s set to <code dir="ltr" translate="no">False</code>,
the unique name is returned without actually being marked as used.
This is useful when the caller simply wants to know what the name
to be created will be.</p>
<h4 id="args_17">Args:</h4>
<ul>
<li><b><code dir="ltr" translate="no">name</code></b>: The name for an operation.</li>
<li><b><code dir="ltr" translate="no">mark_as_used</code></b>: Whether to mark this name as being used.</li>
</ul>
<h4 id="returns_15">Returns:</h4>
<p>A string to be passed to <code dir="ltr" translate="no">create_op()</code> that will be used
to name the operation being created.</p>
</div>
<devsite-page-rating hover-rating-star="0" position="footer" selected-rating="0">
</devsite-page-rating>
</article>
</article>

</devsite-content>
</main>
<devsite-footer-promos class="devsite-footer">
</devsite-footer-promos>
<devsite-footer-linkboxes class="devsite-footer">

</devsite-footer-linkboxes>
<devsite-footer-utility class="devsite-footer">
<div class="devsite-footer-utility nocontent">

</div>
</devsite-footer-utility>
</section></section>
<devsite-sitemask></devsite-sitemask>
<devsite-snackbar></devsite-snackbar> <devsite-tooltip></devsite-tooltip>
<devsite-heading-link></devsite-heading-link>
<devsite-analytics>


</devsite-analytics>
 
</body></html>